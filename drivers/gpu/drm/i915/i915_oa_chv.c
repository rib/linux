/*
 * Autogenerated file, DO NOT EDIT manually!
 *
 * Copyright (c) 2015 Intel Corporation
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice (including the next
 * paragraph) shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 */

#include <linux/sysfs.h>

#include "i915_drv.h"

enum metric_set_id {
        METRIC_SET_ID_RENDER_BASIC = 1,
        METRIC_SET_ID_COMPUTE_BASIC,
        METRIC_SET_ID_RENDER_PIPE_PROFILE,
        METRIC_SET_ID_HDC_AND_SF,
        METRIC_SET_ID_L3_1,
        METRIC_SET_ID_L3_2,
        METRIC_SET_ID_L3_3,
        METRIC_SET_ID_L3_4,
        METRIC_SET_ID_RASTERIZER_AND_PIXEL_BACKEND,
        METRIC_SET_ID_SAMPLER_1,
        METRIC_SET_ID_SAMPLER_2,
        METRIC_SET_ID_TDL_1,
        METRIC_SET_ID_TDL_2,
};

int i915_oa_n_builtin_metric_sets_chv = 13;

static const struct i915_oa_reg b_counter_config_render_basic[] = {
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x00800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
};

static const struct i915_oa_reg flex_eu_config_render_basic[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_render_basic[] = {
	{ 0x9888, 0x59800000 },
	{ 0x9888, 0x59800001 },
	{ 0x9888, 0x2C110014 },
	{ 0x9888, 0x2E110000 },
	{ 0x9888, 0x2C310014 },
	{ 0x9888, 0x2E310000 },
	{ 0x9888, 0x2B8303DF },
	{ 0x9888, 0x358002C0 },
	{ 0x9888, 0x00580888 },
	{ 0x9888, 0x00190555 },
	{ 0x9888, 0x00380444 },
	{ 0x9888, 0x003A0666 },
	{ 0x9888, 0x00100111 },
	{ 0x9888, 0x06110030 },
	{ 0x9888, 0x0A110031 },
	{ 0x9888, 0x0E110046 },
	{ 0x9888, 0x04110000 },
	{ 0x9888, 0x00110000 },
	{ 0x9888, 0x00130111 },
	{ 0x9888, 0x00300444 },
	{ 0x9888, 0x08310030 },
	{ 0x9888, 0x0C310031 },
	{ 0x9888, 0x10310046 },
	{ 0x9888, 0x04310000 },
	{ 0x9888, 0x00310000 },
	{ 0x9888, 0x00330444 },
	{ 0x9888, 0x018B0FFF },
	{ 0x9888, 0x01855000 },
	{ 0x9888, 0x03850555 },
	{ 0x9888, 0x13830021 },
	{ 0x9888, 0x15830020 },
	{ 0x9888, 0x1783002F },
	{ 0x9888, 0x1983002E },
	{ 0x9888, 0x1B83002D },
	{ 0x9888, 0x1D83002C },
	{ 0x9888, 0x1F83002B },
	{ 0x9888, 0x2183002A },
	{ 0x9888, 0x05830000 },
	{ 0x9888, 0x01840555 },
	{ 0x9888, 0x23800071 },
	{ 0x9888, 0x25800072 },
	{ 0x9888, 0x05800000 },
	{ 0x9888, 0x01805000 },
	{ 0x9888, 0x03800555 },
	{ 0x9888, 0x01865000 },
	{ 0x9888, 0x03860555 },
	{ 0x9888, 0x01875000 },
	{ 0x9888, 0x03870555 },
	{ 0x9888, 0x418000AA },
	{ 0x9888, 0x4380000A },
	{ 0x9888, 0x45800000 },
	{ 0x9888, 0x47800000 },
	{ 0x9888, 0x498000C8 },
	{ 0x9888, 0x4B8000C8 },
	{ 0x9888, 0x4D8000C8 },
	{ 0x9888, 0x4F80014A },
	{ 0x9888, 0x5180014A },
	{ 0x9888, 0x5380014A },
	{ 0x9888, 0x5580014A },
	{ 0x9888, 0x578001CE },
	{ 0x9888, 0x59800000 },
};

static int select_render_basic_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_render_basic;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_render_basic);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_render_basic;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_render_basic);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_render_basic;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_render_basic);

        return 0;
}

static const struct i915_oa_reg b_counter_config_compute_basic[] = {
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x00800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
};

static const struct i915_oa_reg flex_eu_config_compute_basic[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00000003 },
	{ 0xE658, 0x00002001 },
	{ 0xE758, 0x00778008 },
	{ 0xE45c, 0x00088078 },
	{ 0xE55c, 0x00808708 },
	{ 0xE65c, 0x00a08908 },
};

static const struct i915_oa_reg mux_config_compute_basic[] = {
	{ 0x9888, 0x59800000 },
	{ 0x9888, 0x59800001 },
	{ 0x9888, 0x2E5800E0 },
	{ 0x9888, 0x2E3800E0 },
	{ 0x9888, 0x3580024F },
	{ 0x9888, 0x3D800140 },
	{ 0x9888, 0x08580042 },
	{ 0x9888, 0x0C580040 },
	{ 0x9888, 0x1058004C },
	{ 0x9888, 0x1458004B },
	{ 0x9888, 0x04580000 },
	{ 0x9888, 0x00580000 },
	{ 0x9888, 0x00195555 },
	{ 0x9888, 0x06380042 },
	{ 0x9888, 0x0A380040 },
	{ 0x9888, 0x0E38004C },
	{ 0x9888, 0x1238004B },
	{ 0x9888, 0x04380000 },
	{ 0x9888, 0x00384444 },
	{ 0x9888, 0x003A5555 },
	{ 0x9888, 0x018BFFFF },
	{ 0x9888, 0x01845555 },
	{ 0x9888, 0x17800074 },
	{ 0x9888, 0x1980007D },
	{ 0x9888, 0x1B80007C },
	{ 0x9888, 0x1D8000B6 },
	{ 0x9888, 0x1F8000B7 },
	{ 0x9888, 0x05800000 },
	{ 0x9888, 0x03800000 },
	{ 0x9888, 0x418000AA },
	{ 0x9888, 0x438000AA },
	{ 0x9888, 0x45800000 },
	{ 0x9888, 0x47800000 },
	{ 0x9888, 0x4980012A },
	{ 0x9888, 0x4B80012A },
	{ 0x9888, 0x4D80012A },
	{ 0x9888, 0x4F80012A },
	{ 0x9888, 0x518001CE },
	{ 0x9888, 0x538001CE },
	{ 0x9888, 0x5580000E },
	{ 0x9888, 0x59800000 },
};

static int select_compute_basic_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_compute_basic;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_compute_basic);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_compute_basic;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_compute_basic);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_compute_basic;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_compute_basic);

        return 0;
}

static const struct i915_oa_reg b_counter_config_render_pipe_profile[] = {
	{ 0x2724, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2770, 0x0007ffea },
	{ 0x2774, 0x00007ffc },
	{ 0x2778, 0x0007affa },
	{ 0x277c, 0x0000f5fd },
	{ 0x2780, 0x00079ffa },
	{ 0x2784, 0x0000f3fb },
	{ 0x2788, 0x0007bf7a },
	{ 0x278c, 0x0000f7e7 },
	{ 0x2790, 0x0007fefa },
	{ 0x2794, 0x0000f7cf },
	{ 0x2798, 0x00077ffa },
	{ 0x279c, 0x0000efdf },
	{ 0x27a0, 0x0006fffa },
	{ 0x27a4, 0x0000cfbf },
	{ 0x27a8, 0x0003fffa },
	{ 0x27ac, 0x00005f7f },
};

static const struct i915_oa_reg flex_eu_config_render_pipe_profile[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00015014 },
	{ 0xE658, 0x00025024 },
	{ 0xE758, 0x00035034 },
	{ 0xE45c, 0x00045044 },
	{ 0xE55c, 0x00055054 },
	{ 0xE65c, 0x00065064 },
};

static const struct i915_oa_reg mux_config_render_pipe_profile[] = {
	{ 0x9888, 0x59800000 },
	{ 0x9888, 0x59800001 },
	{ 0x9888, 0x261E0000 },
	{ 0x9888, 0x281F000F },
	{ 0x9888, 0x2817001A },
	{ 0x9888, 0x2791001F },
	{ 0x9888, 0x27880019 },
	{ 0x9888, 0x2D890000 },
	{ 0x9888, 0x278A0007 },
	{ 0x9888, 0x298D001F },
	{ 0x9888, 0x278E0020 },
	{ 0x9888, 0x2B8F0012 },
	{ 0x9888, 0x29900000 },
	{ 0x9888, 0x00184000 },
	{ 0x9888, 0x02181000 },
	{ 0x9888, 0x02194000 },
	{ 0x9888, 0x141E0002 },
	{ 0x9888, 0x041E0000 },
	{ 0x9888, 0x001E0000 },
	{ 0x9888, 0x221F0015 },
	{ 0x9888, 0x041F0000 },
	{ 0x9888, 0x001F4000 },
	{ 0x9888, 0x021F0000 },
	{ 0x9888, 0x023A8000 },
	{ 0x9888, 0x0213C000 },
	{ 0x9888, 0x02164000 },
	{ 0x9888, 0x24170012 },
	{ 0x9888, 0x04170000 },
	{ 0x9888, 0x07910005 },
	{ 0x9888, 0x05910000 },
	{ 0x9888, 0x01911500 },
	{ 0x9888, 0x03910501 },
	{ 0x9888, 0x0D880002 },
	{ 0x9888, 0x1D880003 },
	{ 0x9888, 0x05880000 },
	{ 0x9888, 0x0B890032 },
	{ 0x9888, 0x1B890031 },
	{ 0x9888, 0x05890000 },
	{ 0x9888, 0x01890040 },
	{ 0x9888, 0x03890040 },
	{ 0x9888, 0x098A0000 },
	{ 0x9888, 0x198A0004 },
	{ 0x9888, 0x058A0000 },
	{ 0x9888, 0x018A8050 },
	{ 0x9888, 0x038A2050 },
	{ 0x9888, 0x018B95A9 },
	{ 0x9888, 0x038BE5A9 },
	{ 0x9888, 0x018C1500 },
	{ 0x9888, 0x038C0501 },
	{ 0x9888, 0x178D0015 },
	{ 0x9888, 0x058D0000 },
	{ 0x9888, 0x138E0004 },
	{ 0x9888, 0x218E000C },
	{ 0x9888, 0x058E0000 },
	{ 0x9888, 0x018E0500 },
	{ 0x9888, 0x038E0101 },
	{ 0x9888, 0x0F8F0027 },
	{ 0x9888, 0x058F0000 },
	{ 0x9888, 0x018F0000 },
	{ 0x9888, 0x038F0001 },
	{ 0x9888, 0x11900013 },
	{ 0x9888, 0x1F900017 },
	{ 0x9888, 0x05900000 },
	{ 0x9888, 0x01900100 },
	{ 0x9888, 0x03900001 },
	{ 0x9888, 0x01845555 },
	{ 0x9888, 0x03845555 },
	{ 0x9888, 0x418000AA },
	{ 0x9888, 0x438000AA },
	{ 0x9888, 0x458000AA },
	{ 0x9888, 0x478000AA },
	{ 0x9888, 0x4980018C },
	{ 0x9888, 0x4B80014B },
	{ 0x9888, 0x4D800128 },
	{ 0x9888, 0x4F80012A },
	{ 0x9888, 0x51800187 },
	{ 0x9888, 0x5380014B },
	{ 0x9888, 0x55800149 },
	{ 0x9888, 0x5780010A },
	{ 0x9888, 0x59800000 },
};

static int select_render_pipe_profile_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_render_pipe_profile;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_render_pipe_profile);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_render_pipe_profile;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_render_pipe_profile);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_render_pipe_profile;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_render_pipe_profile);

        return 0;
}

static const struct i915_oa_reg b_counter_config_hdc_and_sf[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x10800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x00000002 },
	{ 0x2774, 0x0000fff7 },
};

static const struct i915_oa_reg flex_eu_config_hdc_and_sf[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_hdc_and_sf[] = {
	{ 0x9888, 0x105c0232 },
	{ 0x9888, 0x10580232 },
	{ 0x9888, 0x10380232 },
	{ 0x9888, 0x10dc0232 },
	{ 0x9888, 0x10d80232 },
	{ 0x9888, 0x10b80232 },
	{ 0x9888, 0x118e4400 },
	{ 0x9888, 0x025c6080 },
	{ 0x9888, 0x045c004b },
	{ 0x9888, 0x005c8000 },
	{ 0x9888, 0x00582080 },
	{ 0x9888, 0x0258004b },
	{ 0x9888, 0x025b4000 },
	{ 0x9888, 0x045b4000 },
	{ 0x9888, 0x0c1fa000 },
	{ 0x9888, 0x0e1f00aa },
	{ 0x9888, 0x04386080 },
	{ 0x9888, 0x0638404b },
	{ 0x9888, 0x02384000 },
	{ 0x9888, 0x08384000 },
	{ 0x9888, 0x0a380000 },
	{ 0x9888, 0x0c380000 },
	{ 0x9888, 0x00398000 },
	{ 0x9888, 0x0239a000 },
	{ 0x9888, 0x0439a000 },
	{ 0x9888, 0x06392000 },
	{ 0x9888, 0x0cdc25c1 },
	{ 0x9888, 0x0adcc000 },
	{ 0x9888, 0x0ad825c1 },
	{ 0x9888, 0x18db4000 },
	{ 0x9888, 0x1adb0001 },
	{ 0x9888, 0x0e9f8000 },
	{ 0x9888, 0x109f02aa },
	{ 0x9888, 0x0eb825c1 },
	{ 0x9888, 0x18b80154 },
	{ 0x9888, 0x0ab9a000 },
	{ 0x9888, 0x0cb9a000 },
	{ 0x9888, 0x0eb9a000 },
	{ 0x9888, 0x0d88c000 },
	{ 0x9888, 0x0f88000f },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x078a8000 },
	{ 0x9888, 0x098a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x0d8a8000 },
	{ 0x9888, 0x258baa05 },
	{ 0x9888, 0x278b002a },
	{ 0x9888, 0x238b2a80 },
	{ 0x9888, 0x198c5400 },
	{ 0x9888, 0x1b8c0015 },
	{ 0x9888, 0x098dc000 },
	{ 0x9888, 0x0b8da000 },
	{ 0x9888, 0x0d8da000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x098e05c0 },
	{ 0x9888, 0x058e0000 },
	{ 0x9888, 0x198f0020 },
	{ 0x9888, 0x2185aa0a },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x19835000 },
	{ 0x9888, 0x1b830155 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x09848000 },
	{ 0x9888, 0x0b84c000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x19808000 },
	{ 0x9888, 0x1b80c000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x51800040 },
	{ 0x9888, 0x43800400 },
	{ 0x9888, 0x45800800 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x47800c62 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f801042 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x418014a4 },
};

static int select_hdc_and_sf_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_hdc_and_sf;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_hdc_and_sf);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_hdc_and_sf;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_hdc_and_sf);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_hdc_and_sf;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_hdc_and_sf);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_1[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0xf0800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00014002 },
	{ 0x277c, 0x0000c3ff },
	{ 0x2780, 0x00010002 },
	{ 0x2784, 0x0000c7ff },
	{ 0x2788, 0x00004002 },
	{ 0x278c, 0x0000d3ff },
	{ 0x2790, 0x00100700 },
	{ 0x2794, 0x0000ff1f },
	{ 0x2798, 0x00001402 },
	{ 0x279c, 0x0000fc3f },
	{ 0x27a0, 0x00001002 },
	{ 0x27a4, 0x0000fc7f },
	{ 0x27a8, 0x00000402 },
	{ 0x27ac, 0x0000fd3f },
};

static const struct i915_oa_reg flex_eu_config_l3_1[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_1[] = {
	{ 0x9888, 0x10bf03da },
	{ 0x9888, 0x14bf0001 },
	{ 0x9888, 0x12980340 },
	{ 0x9888, 0x12990340 },
	{ 0x9888, 0x0cbf1187 },
	{ 0x9888, 0x0ebf1205 },
	{ 0x9888, 0x00bf0500 },
	{ 0x9888, 0x02bf042b },
	{ 0x9888, 0x04bf002c },
	{ 0x9888, 0x0cdac000 },
	{ 0x9888, 0x0edac000 },
	{ 0x9888, 0x00da8000 },
	{ 0x9888, 0x02dac000 },
	{ 0x9888, 0x04da4000 },
	{ 0x9888, 0x04983400 },
	{ 0x9888, 0x10980000 },
	{ 0x9888, 0x06990034 },
	{ 0x9888, 0x10990000 },
	{ 0x9888, 0x0c9dc000 },
	{ 0x9888, 0x0e9dc000 },
	{ 0x9888, 0x009d8000 },
	{ 0x9888, 0x029dc000 },
	{ 0x9888, 0x049d4000 },
	{ 0x9888, 0x109f02a8 },
	{ 0x9888, 0x0c9fa000 },
	{ 0x9888, 0x0e9f00ba },
	{ 0x9888, 0x0cb88000 },
	{ 0x9888, 0x0cb95000 },
	{ 0x9888, 0x0eb95000 },
	{ 0x9888, 0x00b94000 },
	{ 0x9888, 0x02b95000 },
	{ 0x9888, 0x04b91000 },
	{ 0x9888, 0x06b92000 },
	{ 0x9888, 0x0cba4000 },
	{ 0x9888, 0x0f88000f },
	{ 0x9888, 0x03888000 },
	{ 0x9888, 0x05888000 },
	{ 0x9888, 0x07888000 },
	{ 0x9888, 0x09888000 },
	{ 0x9888, 0x0b888000 },
	{ 0x9888, 0x0d880400 },
	{ 0x9888, 0x258b800a },
	{ 0x9888, 0x278b002a },
	{ 0x9888, 0x238b5500 },
	{ 0x9888, 0x198c4000 },
	{ 0x9888, 0x1b8c0015 },
	{ 0x9888, 0x038c4000 },
	{ 0x9888, 0x058c4000 },
	{ 0x9888, 0x078c4000 },
	{ 0x9888, 0x098c4000 },
	{ 0x9888, 0x0b8c4000 },
	{ 0x9888, 0x0d8c4000 },
	{ 0x9888, 0x0d8da000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x018d8000 },
	{ 0x9888, 0x038da000 },
	{ 0x9888, 0x058da000 },
	{ 0x9888, 0x078d2000 },
	{ 0x9888, 0x2185800a },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x1b830154 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x45800000 },
	{ 0x9888, 0x47800000 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f800000 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x41800060 },
};

static int select_l3_1_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_1;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_1);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_1;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_1);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_1;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_1);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_2[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0xf0800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00014002 },
	{ 0x277c, 0x0000c3ff },
	{ 0x2780, 0x00010002 },
	{ 0x2784, 0x0000c7ff },
	{ 0x2788, 0x00004002 },
	{ 0x278c, 0x0000d3ff },
	{ 0x2790, 0x00100700 },
	{ 0x2794, 0x0000ff1f },
	{ 0x2798, 0x00001402 },
	{ 0x279c, 0x0000fc3f },
	{ 0x27a0, 0x00001002 },
	{ 0x27a4, 0x0000fc7f },
	{ 0x27a8, 0x00000402 },
	{ 0x27ac, 0x0000fd3f },
};

static const struct i915_oa_reg flex_eu_config_l3_2[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_2[] = {
	{ 0x9888, 0x103f03da },
	{ 0x9888, 0x143f0001 },
	{ 0x9888, 0x12180340 },
	{ 0x9888, 0x12190340 },
	{ 0x9888, 0x0c3f1187 },
	{ 0x9888, 0x0e3f1205 },
	{ 0x9888, 0x003f0500 },
	{ 0x9888, 0x023f042b },
	{ 0x9888, 0x043f002c },
	{ 0x9888, 0x0c5ac000 },
	{ 0x9888, 0x0e5ac000 },
	{ 0x9888, 0x005a8000 },
	{ 0x9888, 0x025ac000 },
	{ 0x9888, 0x045a4000 },
	{ 0x9888, 0x04183400 },
	{ 0x9888, 0x10180000 },
	{ 0x9888, 0x06190034 },
	{ 0x9888, 0x10190000 },
	{ 0x9888, 0x0c1dc000 },
	{ 0x9888, 0x0e1dc000 },
	{ 0x9888, 0x001d8000 },
	{ 0x9888, 0x021dc000 },
	{ 0x9888, 0x041d4000 },
	{ 0x9888, 0x101f02a8 },
	{ 0x9888, 0x0c1fa000 },
	{ 0x9888, 0x0e1f00ba },
	{ 0x9888, 0x0c388000 },
	{ 0x9888, 0x0c395000 },
	{ 0x9888, 0x0e395000 },
	{ 0x9888, 0x00394000 },
	{ 0x9888, 0x02395000 },
	{ 0x9888, 0x04391000 },
	{ 0x9888, 0x06392000 },
	{ 0x9888, 0x0c3a4000 },
	{ 0x9888, 0x1b8aa800 },
	{ 0x9888, 0x1d8a0002 },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x078a8000 },
	{ 0x9888, 0x098a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x0d8a8000 },
	{ 0x9888, 0x258b4005 },
	{ 0x9888, 0x278b0015 },
	{ 0x9888, 0x238b2a80 },
	{ 0x9888, 0x2185800a },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x1b830154 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x45800000 },
	{ 0x9888, 0x47800000 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f800000 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x41800060 },
};

static int select_l3_2_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_2;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_2);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_2;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_2);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_2;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_2);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_3[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0xf0800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00014002 },
	{ 0x277c, 0x0000c3ff },
	{ 0x2780, 0x00010002 },
	{ 0x2784, 0x0000c7ff },
	{ 0x2788, 0x00004002 },
	{ 0x278c, 0x0000d3ff },
	{ 0x2790, 0x00100700 },
	{ 0x2794, 0x0000ff1f },
	{ 0x2798, 0x00001402 },
	{ 0x279c, 0x0000fc3f },
	{ 0x27a0, 0x00001002 },
	{ 0x27a4, 0x0000fc7f },
	{ 0x27a8, 0x00000402 },
	{ 0x27ac, 0x0000fd3f },
};

static const struct i915_oa_reg flex_eu_config_l3_3[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_3[] = {
	{ 0x9888, 0x121b0340 },
	{ 0x9888, 0x103f0274 },
	{ 0x9888, 0x123f0000 },
	{ 0x9888, 0x129b0340 },
	{ 0x9888, 0x10bf0274 },
	{ 0x9888, 0x12bf0000 },
	{ 0x9888, 0x041b3400 },
	{ 0x9888, 0x101b0000 },
	{ 0x9888, 0x045c8000 },
	{ 0x9888, 0x0a3d4000 },
	{ 0x9888, 0x003f0080 },
	{ 0x9888, 0x023f0793 },
	{ 0x9888, 0x043f0014 },
	{ 0x9888, 0x04588000 },
	{ 0x9888, 0x005a8000 },
	{ 0x9888, 0x025ac000 },
	{ 0x9888, 0x045a4000 },
	{ 0x9888, 0x0a5b4000 },
	{ 0x9888, 0x001d8000 },
	{ 0x9888, 0x021dc000 },
	{ 0x9888, 0x041d4000 },
	{ 0x9888, 0x0c1fa000 },
	{ 0x9888, 0x0e1f002a },
	{ 0x9888, 0x0a384000 },
	{ 0x9888, 0x00394000 },
	{ 0x9888, 0x02395000 },
	{ 0x9888, 0x04399000 },
	{ 0x9888, 0x069b0034 },
	{ 0x9888, 0x109b0000 },
	{ 0x9888, 0x06dc4000 },
	{ 0x9888, 0x0cbd4000 },
	{ 0x9888, 0x0cbf0981 },
	{ 0x9888, 0x0ebf0a0f },
	{ 0x9888, 0x06d84000 },
	{ 0x9888, 0x0cdac000 },
	{ 0x9888, 0x0edac000 },
	{ 0x9888, 0x0cdb4000 },
	{ 0x9888, 0x0c9dc000 },
	{ 0x9888, 0x0e9dc000 },
	{ 0x9888, 0x109f02a8 },
	{ 0x9888, 0x0e9f0080 },
	{ 0x9888, 0x0cb84000 },
	{ 0x9888, 0x0cb95000 },
	{ 0x9888, 0x0eb95000 },
	{ 0x9888, 0x06b92000 },
	{ 0x9888, 0x0f88000f },
	{ 0x9888, 0x0d880400 },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x078a8000 },
	{ 0x9888, 0x098a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x258b8009 },
	{ 0x9888, 0x278b002a },
	{ 0x9888, 0x238b2a80 },
	{ 0x9888, 0x198c4000 },
	{ 0x9888, 0x1b8c0015 },
	{ 0x9888, 0x0d8c4000 },
	{ 0x9888, 0x0d8da000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x078d2000 },
	{ 0x9888, 0x2185800a },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x1b830154 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x45800c00 },
	{ 0x9888, 0x47800c63 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f8014a5 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x41800045 },
};

static int select_l3_3_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_3;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_3);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_3;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_3);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_3;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_3);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_4[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0xf0800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00014002 },
	{ 0x277c, 0x0000c3ff },
	{ 0x2780, 0x00010002 },
	{ 0x2784, 0x0000c7ff },
	{ 0x2788, 0x00004002 },
	{ 0x278c, 0x0000d3ff },
	{ 0x2790, 0x00100700 },
	{ 0x2794, 0x0000ff1f },
	{ 0x2798, 0x00001402 },
	{ 0x279c, 0x0000fc3f },
	{ 0x27a0, 0x00001002 },
	{ 0x27a4, 0x0000fc7f },
	{ 0x27a8, 0x00000402 },
	{ 0x27ac, 0x0000fd3f },
};

static const struct i915_oa_reg flex_eu_config_l3_4[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_4[] = {
	{ 0x9888, 0x121a0340 },
	{ 0x9888, 0x103f0017 },
	{ 0x9888, 0x123f0020 },
	{ 0x9888, 0x129a0340 },
	{ 0x9888, 0x10bf0017 },
	{ 0x9888, 0x12bf0020 },
	{ 0x9888, 0x041a3400 },
	{ 0x9888, 0x101a0000 },
	{ 0x9888, 0x043b8000 },
	{ 0x9888, 0x0a3e0010 },
	{ 0x9888, 0x003f0200 },
	{ 0x9888, 0x023f0113 },
	{ 0x9888, 0x043f0014 },
	{ 0x9888, 0x02592000 },
	{ 0x9888, 0x005a8000 },
	{ 0x9888, 0x025ac000 },
	{ 0x9888, 0x045a4000 },
	{ 0x9888, 0x0a1c8000 },
	{ 0x9888, 0x001d8000 },
	{ 0x9888, 0x021dc000 },
	{ 0x9888, 0x041d4000 },
	{ 0x9888, 0x0a1e8000 },
	{ 0x9888, 0x0c1fa000 },
	{ 0x9888, 0x0e1f001a },
	{ 0x9888, 0x00394000 },
	{ 0x9888, 0x02395000 },
	{ 0x9888, 0x04391000 },
	{ 0x9888, 0x069a0034 },
	{ 0x9888, 0x109a0000 },
	{ 0x9888, 0x06bb4000 },
	{ 0x9888, 0x0abe0040 },
	{ 0x9888, 0x0cbf0984 },
	{ 0x9888, 0x0ebf0a02 },
	{ 0x9888, 0x02d94000 },
	{ 0x9888, 0x0cdac000 },
	{ 0x9888, 0x0edac000 },
	{ 0x9888, 0x0c9c0400 },
	{ 0x9888, 0x0c9dc000 },
	{ 0x9888, 0x0e9dc000 },
	{ 0x9888, 0x0c9e0400 },
	{ 0x9888, 0x109f02a8 },
	{ 0x9888, 0x0e9f0040 },
	{ 0x9888, 0x0cb95000 },
	{ 0x9888, 0x0eb95000 },
	{ 0x9888, 0x0f88000f },
	{ 0x9888, 0x0d880400 },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x078a8000 },
	{ 0x9888, 0x098a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x258b8009 },
	{ 0x9888, 0x278b002a },
	{ 0x9888, 0x238b2a80 },
	{ 0x9888, 0x198c4000 },
	{ 0x9888, 0x1b8c0015 },
	{ 0x9888, 0x0d8c4000 },
	{ 0x9888, 0x0d8da000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x078d2000 },
	{ 0x9888, 0x2185800a },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x1b830154 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x45800800 },
	{ 0x9888, 0x47800842 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f801084 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x41800044 },
};

static int select_l3_4_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_4;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_4);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_4;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_4);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_4;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_4);

        return 0;
}

static const struct i915_oa_reg b_counter_config_rasterizer_and_pixel_backend[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x30800000 },
	{ 0x2770, 0x00006000 },
	{ 0x2774, 0x0000f3ff },
	{ 0x2778, 0x00001800 },
	{ 0x277c, 0x0000fcff },
	{ 0x2780, 0x00000600 },
	{ 0x2784, 0x0000ff3f },
	{ 0x2788, 0x00000180 },
	{ 0x278c, 0x0000ffcf },
	{ 0x2790, 0x00000060 },
	{ 0x2794, 0x0000fff3 },
	{ 0x2798, 0x00000018 },
	{ 0x279c, 0x0000fffc },
};

static const struct i915_oa_reg flex_eu_config_rasterizer_and_pixel_backend[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_rasterizer_and_pixel_backend[] = {
	{ 0x9888, 0x143b000e },
	{ 0x9888, 0x043c55c0 },
	{ 0x9888, 0x0a1e0280 },
	{ 0x9888, 0x0c1e0408 },
	{ 0x9888, 0x10390000 },
	{ 0x9888, 0x12397a1f },
	{ 0x9888, 0x14bb000e },
	{ 0x9888, 0x04bc5000 },
	{ 0x9888, 0x0a9e0296 },
	{ 0x9888, 0x0c9e0008 },
	{ 0x9888, 0x10b90000 },
	{ 0x9888, 0x12b97a1f },
	{ 0x9888, 0x063b0042 },
	{ 0x9888, 0x103b0000 },
	{ 0x9888, 0x083c0000 },
	{ 0x9888, 0x0a3e0040 },
	{ 0x9888, 0x043f8000 },
	{ 0x9888, 0x02594000 },
	{ 0x9888, 0x045a8000 },
	{ 0x9888, 0x0c1c0400 },
	{ 0x9888, 0x041d8000 },
	{ 0x9888, 0x081e02c0 },
	{ 0x9888, 0x0e1e0000 },
	{ 0x9888, 0x0c1fa800 },
	{ 0x9888, 0x0e1f0260 },
	{ 0x9888, 0x101f0014 },
	{ 0x9888, 0x003905e0 },
	{ 0x9888, 0x06390bc0 },
	{ 0x9888, 0x02390018 },
	{ 0x9888, 0x04394000 },
	{ 0x9888, 0x04bb0042 },
	{ 0x9888, 0x10bb0000 },
	{ 0x9888, 0x02bc05c0 },
	{ 0x9888, 0x08bc0000 },
	{ 0x9888, 0x0abe0004 },
	{ 0x9888, 0x02bf8000 },
	{ 0x9888, 0x02d91000 },
	{ 0x9888, 0x02da8000 },
	{ 0x9888, 0x089c8000 },
	{ 0x9888, 0x029d8000 },
	{ 0x9888, 0x089e8000 },
	{ 0x9888, 0x0e9e0000 },
	{ 0x9888, 0x0e9fa806 },
	{ 0x9888, 0x109f0142 },
	{ 0x9888, 0x08b90617 },
	{ 0x9888, 0x0ab90be0 },
	{ 0x9888, 0x02b94000 },
	{ 0x9888, 0x0d88f000 },
	{ 0x9888, 0x0f88000c },
	{ 0x9888, 0x07888000 },
	{ 0x9888, 0x09888000 },
	{ 0x9888, 0x018a8000 },
	{ 0x9888, 0x0f8a8000 },
	{ 0x9888, 0x1b8a2800 },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x0d8a8000 },
	{ 0x9888, 0x238b52a0 },
	{ 0x9888, 0x258b6a95 },
	{ 0x9888, 0x278b0029 },
	{ 0x9888, 0x178c2000 },
	{ 0x9888, 0x198c1500 },
	{ 0x9888, 0x1b8c0014 },
	{ 0x9888, 0x078c4000 },
	{ 0x9888, 0x098c4000 },
	{ 0x9888, 0x098da000 },
	{ 0x9888, 0x0b8da000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x038d8000 },
	{ 0x9888, 0x058d2000 },
	{ 0x9888, 0x1f85aa80 },
	{ 0x9888, 0x2185aaaa },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x01834000 },
	{ 0x9888, 0x0f834000 },
	{ 0x9888, 0x19835400 },
	{ 0x9888, 0x1b830155 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0184c000 },
	{ 0x9888, 0x0784c000 },
	{ 0x9888, 0x0984c000 },
	{ 0x9888, 0x0b84c000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x1180c000 },
	{ 0x9888, 0x1780c000 },
	{ 0x9888, 0x1980c000 },
	{ 0x9888, 0x1b80c000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x4d800444 },
	{ 0x9888, 0x3d800000 },
	{ 0x9888, 0x4f804000 },
	{ 0x9888, 0x43801080 },
	{ 0x9888, 0x51800000 },
	{ 0x9888, 0x45800084 },
	{ 0x9888, 0x53800044 },
	{ 0x9888, 0x47801080 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x3f800000 },
	{ 0x9888, 0x41800840 },
};

static int select_rasterizer_and_pixel_backend_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_rasterizer_and_pixel_backend;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_rasterizer_and_pixel_backend);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_rasterizer_and_pixel_backend;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_rasterizer_and_pixel_backend);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_rasterizer_and_pixel_backend;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_rasterizer_and_pixel_backend);

        return 0;
}

static const struct i915_oa_reg b_counter_config_sampler_1[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x70800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x0000c000 },
	{ 0x2774, 0x0000e7ff },
	{ 0x2778, 0x00003000 },
	{ 0x277c, 0x0000f9ff },
	{ 0x2780, 0x00000c00 },
	{ 0x2784, 0x0000fe7f },
};

static const struct i915_oa_reg flex_eu_config_sampler_1[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_sampler_1[] = {
	{ 0x9888, 0x18921400 },
	{ 0x9888, 0x149500ab },
	{ 0x9888, 0x18b21400 },
	{ 0x9888, 0x14b500ab },
	{ 0x9888, 0x18d21400 },
	{ 0x9888, 0x14d500ab },
	{ 0x9888, 0x0cdc8000 },
	{ 0x9888, 0x0edc4000 },
	{ 0x9888, 0x02dcc000 },
	{ 0x9888, 0x04dcc000 },
	{ 0x9888, 0x1abd00a0 },
	{ 0x9888, 0x0abd8000 },
	{ 0x9888, 0x0cd88000 },
	{ 0x9888, 0x0ed84000 },
	{ 0x9888, 0x04d88000 },
	{ 0x9888, 0x1adb0050 },
	{ 0x9888, 0x04db8000 },
	{ 0x9888, 0x06db8000 },
	{ 0x9888, 0x08db8000 },
	{ 0x9888, 0x0adb4000 },
	{ 0x9888, 0x109f02a0 },
	{ 0x9888, 0x0c9fa000 },
	{ 0x9888, 0x0e9f00aa },
	{ 0x9888, 0x18b82500 },
	{ 0x9888, 0x02b88000 },
	{ 0x9888, 0x04b84000 },
	{ 0x9888, 0x06b84000 },
	{ 0x9888, 0x08b84000 },
	{ 0x9888, 0x0ab84000 },
	{ 0x9888, 0x0cb88000 },
	{ 0x9888, 0x0cb98000 },
	{ 0x9888, 0x0eb9a000 },
	{ 0x9888, 0x00b98000 },
	{ 0x9888, 0x02b9a000 },
	{ 0x9888, 0x04b9a000 },
	{ 0x9888, 0x06b92000 },
	{ 0x9888, 0x1aba0200 },
	{ 0x9888, 0x02ba8000 },
	{ 0x9888, 0x0cba8000 },
	{ 0x9888, 0x04908000 },
	{ 0x9888, 0x04918000 },
	{ 0x9888, 0x04927300 },
	{ 0x9888, 0x10920000 },
	{ 0x9888, 0x1893000a },
	{ 0x9888, 0x0a934000 },
	{ 0x9888, 0x0a946000 },
	{ 0x9888, 0x0c959000 },
	{ 0x9888, 0x0e950098 },
	{ 0x9888, 0x10950000 },
	{ 0x9888, 0x04b04000 },
	{ 0x9888, 0x04b14000 },
	{ 0x9888, 0x04b20073 },
	{ 0x9888, 0x10b20000 },
	{ 0x9888, 0x04b38000 },
	{ 0x9888, 0x06b38000 },
	{ 0x9888, 0x08b34000 },
	{ 0x9888, 0x04b4c000 },
	{ 0x9888, 0x02b59890 },
	{ 0x9888, 0x10b50000 },
	{ 0x9888, 0x06d04000 },
	{ 0x9888, 0x06d14000 },
	{ 0x9888, 0x06d20073 },
	{ 0x9888, 0x10d20000 },
	{ 0x9888, 0x18d30020 },
	{ 0x9888, 0x02d38000 },
	{ 0x9888, 0x0cd34000 },
	{ 0x9888, 0x0ad48000 },
	{ 0x9888, 0x04d42000 },
	{ 0x9888, 0x0ed59000 },
	{ 0x9888, 0x00d59800 },
	{ 0x9888, 0x10d50000 },
	{ 0x9888, 0x0f88000e },
	{ 0x9888, 0x03888000 },
	{ 0x9888, 0x05888000 },
	{ 0x9888, 0x07888000 },
	{ 0x9888, 0x09888000 },
	{ 0x9888, 0x0b888000 },
	{ 0x9888, 0x0d880400 },
	{ 0x9888, 0x278b002a },
	{ 0x9888, 0x238b5500 },
	{ 0x9888, 0x258b000a },
	{ 0x9888, 0x1b8c0015 },
	{ 0x9888, 0x038c4000 },
	{ 0x9888, 0x058c4000 },
	{ 0x9888, 0x078c4000 },
	{ 0x9888, 0x098c4000 },
	{ 0x9888, 0x0b8c4000 },
	{ 0x9888, 0x0d8c4000 },
	{ 0x9888, 0x0d8d8000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x018d8000 },
	{ 0x9888, 0x038da000 },
	{ 0x9888, 0x058da000 },
	{ 0x9888, 0x078d2000 },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x2185000a },
	{ 0x9888, 0x1b830150 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0d848000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x1d808000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x47801021 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f800c64 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x41800c02 },
};

static int select_sampler_1_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_sampler_1;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_sampler_1);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_sampler_1;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_sampler_1);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_sampler_1;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_sampler_1);

        return 0;
}

static const struct i915_oa_reg b_counter_config_sampler_2[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x70800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x0000c000 },
	{ 0x2774, 0x0000e7ff },
	{ 0x2778, 0x00003000 },
	{ 0x277c, 0x0000f9ff },
	{ 0x2780, 0x00000c00 },
	{ 0x2784, 0x0000fe7f },
};

static const struct i915_oa_reg flex_eu_config_sampler_2[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_sampler_2[] = {
	{ 0x9888, 0x18121400 },
	{ 0x9888, 0x141500ab },
	{ 0x9888, 0x18321400 },
	{ 0x9888, 0x143500ab },
	{ 0x9888, 0x18521400 },
	{ 0x9888, 0x145500ab },
	{ 0x9888, 0x0c5c8000 },
	{ 0x9888, 0x0e5c4000 },
	{ 0x9888, 0x025cc000 },
	{ 0x9888, 0x045cc000 },
	{ 0x9888, 0x1a3d00a0 },
	{ 0x9888, 0x0a3d8000 },
	{ 0x9888, 0x0c588000 },
	{ 0x9888, 0x0e584000 },
	{ 0x9888, 0x04588000 },
	{ 0x9888, 0x1a5b0050 },
	{ 0x9888, 0x045b8000 },
	{ 0x9888, 0x065b8000 },
	{ 0x9888, 0x085b8000 },
	{ 0x9888, 0x0a5b4000 },
	{ 0x9888, 0x101f02a0 },
	{ 0x9888, 0x0c1fa000 },
	{ 0x9888, 0x0e1f00aa },
	{ 0x9888, 0x18382500 },
	{ 0x9888, 0x02388000 },
	{ 0x9888, 0x04384000 },
	{ 0x9888, 0x06384000 },
	{ 0x9888, 0x08384000 },
	{ 0x9888, 0x0a384000 },
	{ 0x9888, 0x0c388000 },
	{ 0x9888, 0x0c398000 },
	{ 0x9888, 0x0e39a000 },
	{ 0x9888, 0x00398000 },
	{ 0x9888, 0x0239a000 },
	{ 0x9888, 0x0439a000 },
	{ 0x9888, 0x06392000 },
	{ 0x9888, 0x1a3a0200 },
	{ 0x9888, 0x023a8000 },
	{ 0x9888, 0x0c3a8000 },
	{ 0x9888, 0x04108000 },
	{ 0x9888, 0x04118000 },
	{ 0x9888, 0x04127300 },
	{ 0x9888, 0x10120000 },
	{ 0x9888, 0x1813000a },
	{ 0x9888, 0x0a134000 },
	{ 0x9888, 0x0a146000 },
	{ 0x9888, 0x0c159000 },
	{ 0x9888, 0x0e150098 },
	{ 0x9888, 0x10150000 },
	{ 0x9888, 0x04304000 },
	{ 0x9888, 0x04314000 },
	{ 0x9888, 0x04320073 },
	{ 0x9888, 0x10320000 },
	{ 0x9888, 0x04338000 },
	{ 0x9888, 0x06338000 },
	{ 0x9888, 0x08334000 },
	{ 0x9888, 0x0434c000 },
	{ 0x9888, 0x02359890 },
	{ 0x9888, 0x10350000 },
	{ 0x9888, 0x06504000 },
	{ 0x9888, 0x06514000 },
	{ 0x9888, 0x06520073 },
	{ 0x9888, 0x10520000 },
	{ 0x9888, 0x18530020 },
	{ 0x9888, 0x02538000 },
	{ 0x9888, 0x0c534000 },
	{ 0x9888, 0x0a548000 },
	{ 0x9888, 0x04542000 },
	{ 0x9888, 0x0e559000 },
	{ 0x9888, 0x00559800 },
	{ 0x9888, 0x10550000 },
	{ 0x9888, 0x1b8aa000 },
	{ 0x9888, 0x1d8a0002 },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x078a8000 },
	{ 0x9888, 0x098a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x0d8a8000 },
	{ 0x9888, 0x278b0015 },
	{ 0x9888, 0x238b2a80 },
	{ 0x9888, 0x258b0005 },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x2185000a },
	{ 0x9888, 0x1b830150 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0d848000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x07844000 },
	{ 0x9888, 0x1d808000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x17804000 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x47801021 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f800c64 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x41800c02 },
};

static int select_sampler_2_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_sampler_2;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_sampler_2);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_sampler_2;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_sampler_2);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_sampler_2;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_sampler_2);

        return 0;
}

static const struct i915_oa_reg b_counter_config_tdl_1[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x30800000 },
	{ 0x2770, 0x00000002 },
	{ 0x2774, 0x0000fdff },
	{ 0x2778, 0x00000000 },
	{ 0x277c, 0x0000fe7f },
	{ 0x2780, 0x00000002 },
	{ 0x2784, 0x0000ffbf },
	{ 0x2788, 0x00000000 },
	{ 0x278c, 0x0000ffcf },
	{ 0x2790, 0x00000002 },
	{ 0x2794, 0x0000fff7 },
	{ 0x2798, 0x00000000 },
	{ 0x279c, 0x0000fff9 },
};

static const struct i915_oa_reg flex_eu_config_tdl_1[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_tdl_1[] = {
	{ 0x9888, 0x16154d60 },
	{ 0x9888, 0x16352e60 },
	{ 0x9888, 0x16554d60 },
	{ 0x9888, 0x16950000 },
	{ 0x9888, 0x16b50000 },
	{ 0x9888, 0x16d50000 },
	{ 0x9888, 0x005c8000 },
	{ 0x9888, 0x045cc000 },
	{ 0x9888, 0x065c4000 },
	{ 0x9888, 0x083d8000 },
	{ 0x9888, 0x0a3d8000 },
	{ 0x9888, 0x0458c000 },
	{ 0x9888, 0x025b8000 },
	{ 0x9888, 0x085b4000 },
	{ 0x9888, 0x0a5b4000 },
	{ 0x9888, 0x0c5b8000 },
	{ 0x9888, 0x0c1fa000 },
	{ 0x9888, 0x0e1f00aa },
	{ 0x9888, 0x02384000 },
	{ 0x9888, 0x04388000 },
	{ 0x9888, 0x06388000 },
	{ 0x9888, 0x08384000 },
	{ 0x9888, 0x0a384000 },
	{ 0x9888, 0x0c384000 },
	{ 0x9888, 0x00398000 },
	{ 0x9888, 0x0239a000 },
	{ 0x9888, 0x0439a000 },
	{ 0x9888, 0x06392000 },
	{ 0x9888, 0x043a8000 },
	{ 0x9888, 0x063a8000 },
	{ 0x9888, 0x08138000 },
	{ 0x9888, 0x0a138000 },
	{ 0x9888, 0x06143000 },
	{ 0x9888, 0x0415cfc7 },
	{ 0x9888, 0x10150000 },
	{ 0x9888, 0x02338000 },
	{ 0x9888, 0x0c338000 },
	{ 0x9888, 0x04342000 },
	{ 0x9888, 0x06344000 },
	{ 0x9888, 0x0035c700 },
	{ 0x9888, 0x063500cf },
	{ 0x9888, 0x10350000 },
	{ 0x9888, 0x04538000 },
	{ 0x9888, 0x06538000 },
	{ 0x9888, 0x0454c000 },
	{ 0x9888, 0x0255cfc7 },
	{ 0x9888, 0x10550000 },
	{ 0x9888, 0x06dc8000 },
	{ 0x9888, 0x08dc4000 },
	{ 0x9888, 0x0cdcc000 },
	{ 0x9888, 0x0edcc000 },
	{ 0x9888, 0x1abd00a8 },
	{ 0x9888, 0x0cd8c000 },
	{ 0x9888, 0x0ed84000 },
	{ 0x9888, 0x0edb8000 },
	{ 0x9888, 0x18db0800 },
	{ 0x9888, 0x1adb0254 },
	{ 0x9888, 0x0e9faa00 },
	{ 0x9888, 0x109f02aa },
	{ 0x9888, 0x0eb84000 },
	{ 0x9888, 0x16b84000 },
	{ 0x9888, 0x18b8156a },
	{ 0x9888, 0x06b98000 },
	{ 0x9888, 0x08b9a000 },
	{ 0x9888, 0x0ab9a000 },
	{ 0x9888, 0x0cb9a000 },
	{ 0x9888, 0x0eb9a000 },
	{ 0x9888, 0x18baa000 },
	{ 0x9888, 0x1aba0002 },
	{ 0x9888, 0x16934000 },
	{ 0x9888, 0x1893000a },
	{ 0x9888, 0x0a947000 },
	{ 0x9888, 0x0c95c5c1 },
	{ 0x9888, 0x0e9500c3 },
	{ 0x9888, 0x10950000 },
	{ 0x9888, 0x0eb38000 },
	{ 0x9888, 0x16b30040 },
	{ 0x9888, 0x18b30020 },
	{ 0x9888, 0x06b48000 },
	{ 0x9888, 0x08b41000 },
	{ 0x9888, 0x0ab48000 },
	{ 0x9888, 0x06b5c500 },
	{ 0x9888, 0x08b500c3 },
	{ 0x9888, 0x0eb5c100 },
	{ 0x9888, 0x10b50000 },
	{ 0x9888, 0x16d31500 },
	{ 0x9888, 0x08d4e000 },
	{ 0x9888, 0x08d5c100 },
	{ 0x9888, 0x0ad5c3c5 },
	{ 0x9888, 0x10d50000 },
	{ 0x9888, 0x0d88f800 },
	{ 0x9888, 0x0f88000f },
	{ 0x9888, 0x038a8000 },
	{ 0x9888, 0x058a8000 },
	{ 0x9888, 0x078a8000 },
	{ 0x9888, 0x098a8000 },
	{ 0x9888, 0x0b8a8000 },
	{ 0x9888, 0x0d8a8000 },
	{ 0x9888, 0x258baaa5 },
	{ 0x9888, 0x278b002a },
	{ 0x9888, 0x238b2a80 },
	{ 0x9888, 0x0f8c4000 },
	{ 0x9888, 0x178c2000 },
	{ 0x9888, 0x198c5500 },
	{ 0x9888, 0x1b8c0015 },
	{ 0x9888, 0x078d8000 },
	{ 0x9888, 0x098da000 },
	{ 0x9888, 0x0b8da000 },
	{ 0x9888, 0x0d8da000 },
	{ 0x9888, 0x0f8da000 },
	{ 0x9888, 0x2185aaaa },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x0f834000 },
	{ 0x9888, 0x19835400 },
	{ 0x9888, 0x1b830155 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0784c000 },
	{ 0x9888, 0x0984c000 },
	{ 0x9888, 0x0b84c000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x1780c000 },
	{ 0x9888, 0x1980c000 },
	{ 0x9888, 0x1b80c000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x43800c42 },
	{ 0x9888, 0x51800000 },
	{ 0x9888, 0x45800063 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x47800800 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f8014a4 },
	{ 0x9888, 0x41801042 },
};

static int select_tdl_1_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_tdl_1;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_tdl_1);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_tdl_1;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_tdl_1);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_tdl_1;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_tdl_1);

        return 0;
}

static const struct i915_oa_reg b_counter_config_tdl_2[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x30800000 },
	{ 0x2770, 0x00000002 },
	{ 0x2774, 0x0000fdff },
	{ 0x2778, 0x00000000 },
	{ 0x277c, 0x0000fe7f },
	{ 0x2780, 0x00000000 },
	{ 0x2784, 0x0000ff9f },
	{ 0x2788, 0x00000000 },
	{ 0x278c, 0x0000ffe7 },
	{ 0x2790, 0x00000002 },
	{ 0x2794, 0x0000fffb },
	{ 0x2798, 0x00000002 },
	{ 0x279c, 0x0000fffd },
};

static const struct i915_oa_reg flex_eu_config_tdl_2[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_tdl_2[] = {
	{ 0x9888, 0x16150000 },
	{ 0x9888, 0x16350000 },
	{ 0x9888, 0x16550000 },
	{ 0x9888, 0x16952e60 },
	{ 0x9888, 0x16b54d60 },
	{ 0x9888, 0x16d52e60 },
	{ 0x9888, 0x065c8000 },
	{ 0x9888, 0x085cc000 },
	{ 0x9888, 0x0a5cc000 },
	{ 0x9888, 0x0c5c4000 },
	{ 0x9888, 0x0e3d8000 },
	{ 0x9888, 0x183da000 },
	{ 0x9888, 0x06588000 },
	{ 0x9888, 0x08588000 },
	{ 0x9888, 0x0a584000 },
	{ 0x9888, 0x0e5b4000 },
	{ 0x9888, 0x185b5800 },
	{ 0x9888, 0x1a5b000a },
	{ 0x9888, 0x0e1faa00 },
	{ 0x9888, 0x101f02aa },
	{ 0x9888, 0x0e384000 },
	{ 0x9888, 0x16384000 },
	{ 0x9888, 0x18382a55 },
	{ 0x9888, 0x06398000 },
	{ 0x9888, 0x0839a000 },
	{ 0x9888, 0x0a39a000 },
	{ 0x9888, 0x0c39a000 },
	{ 0x9888, 0x0e39a000 },
	{ 0x9888, 0x1a3a02a0 },
	{ 0x9888, 0x0e138000 },
	{ 0x9888, 0x16130500 },
	{ 0x9888, 0x06148000 },
	{ 0x9888, 0x08146000 },
	{ 0x9888, 0x0615c100 },
	{ 0x9888, 0x0815c500 },
	{ 0x9888, 0x0a1500c3 },
	{ 0x9888, 0x10150000 },
	{ 0x9888, 0x16335040 },
	{ 0x9888, 0x08349000 },
	{ 0x9888, 0x0a341000 },
	{ 0x9888, 0x083500c1 },
	{ 0x9888, 0x0a35c500 },
	{ 0x9888, 0x0c3500c3 },
	{ 0x9888, 0x10350000 },
	{ 0x9888, 0x1853002a },
	{ 0x9888, 0x0a54e000 },
	{ 0x9888, 0x0c55c500 },
	{ 0x9888, 0x0e55c1c3 },
	{ 0x9888, 0x10550000 },
	{ 0x9888, 0x00dc8000 },
	{ 0x9888, 0x02dcc000 },
	{ 0x9888, 0x04dc4000 },
	{ 0x9888, 0x04bd8000 },
	{ 0x9888, 0x06bd8000 },
	{ 0x9888, 0x02d8c000 },
	{ 0x9888, 0x02db8000 },
	{ 0x9888, 0x04db4000 },
	{ 0x9888, 0x06db4000 },
	{ 0x9888, 0x08db8000 },
	{ 0x9888, 0x0c9fa000 },
	{ 0x9888, 0x0e9f00aa },
	{ 0x9888, 0x02b84000 },
	{ 0x9888, 0x04b84000 },
	{ 0x9888, 0x06b84000 },
	{ 0x9888, 0x08b84000 },
	{ 0x9888, 0x0ab88000 },
	{ 0x9888, 0x0cb88000 },
	{ 0x9888, 0x00b98000 },
	{ 0x9888, 0x02b9a000 },
	{ 0x9888, 0x04b9a000 },
	{ 0x9888, 0x06b92000 },
	{ 0x9888, 0x0aba8000 },
	{ 0x9888, 0x0cba8000 },
	{ 0x9888, 0x04938000 },
	{ 0x9888, 0x06938000 },
	{ 0x9888, 0x0494c000 },
	{ 0x9888, 0x0295cfc7 },
	{ 0x9888, 0x10950000 },
	{ 0x9888, 0x02b38000 },
	{ 0x9888, 0x08b38000 },
	{ 0x9888, 0x04b42000 },
	{ 0x9888, 0x06b41000 },
	{ 0x9888, 0x00b5c700 },
	{ 0x9888, 0x04b500cf },
	{ 0x9888, 0x10b50000 },
	{ 0x9888, 0x0ad38000 },
	{ 0x9888, 0x0cd38000 },
	{ 0x9888, 0x06d46000 },
	{ 0x9888, 0x04d5c700 },
	{ 0x9888, 0x06d500cf },
	{ 0x9888, 0x10d50000 },
	{ 0x9888, 0x03888000 },
	{ 0x9888, 0x05888000 },
	{ 0x9888, 0x07888000 },
	{ 0x9888, 0x09888000 },
	{ 0x9888, 0x0b888000 },
	{ 0x9888, 0x0d880400 },
	{ 0x9888, 0x0f8a8000 },
	{ 0x9888, 0x198a8000 },
	{ 0x9888, 0x1b8aaaa0 },
	{ 0x9888, 0x1d8a0002 },
	{ 0x9888, 0x258b555a },
	{ 0x9888, 0x278b0015 },
	{ 0x9888, 0x238b5500 },
	{ 0x9888, 0x038c4000 },
	{ 0x9888, 0x058c4000 },
	{ 0x9888, 0x078c4000 },
	{ 0x9888, 0x098c4000 },
	{ 0x9888, 0x0b8c4000 },
	{ 0x9888, 0x0d8c4000 },
	{ 0x9888, 0x018d8000 },
	{ 0x9888, 0x038da000 },
	{ 0x9888, 0x058da000 },
	{ 0x9888, 0x078d2000 },
	{ 0x9888, 0x2185aaaa },
	{ 0x9888, 0x2385002a },
	{ 0x9888, 0x1f85aa00 },
	{ 0x9888, 0x0f834000 },
	{ 0x9888, 0x19835400 },
	{ 0x9888, 0x1b830155 },
	{ 0x9888, 0x03834000 },
	{ 0x9888, 0x05834000 },
	{ 0x9888, 0x07834000 },
	{ 0x9888, 0x09834000 },
	{ 0x9888, 0x0b834000 },
	{ 0x9888, 0x0d834000 },
	{ 0x9888, 0x0784c000 },
	{ 0x9888, 0x0984c000 },
	{ 0x9888, 0x0b84c000 },
	{ 0x9888, 0x0d84c000 },
	{ 0x9888, 0x0f84c000 },
	{ 0x9888, 0x01848000 },
	{ 0x9888, 0x0384c000 },
	{ 0x9888, 0x0584c000 },
	{ 0x9888, 0x1780c000 },
	{ 0x9888, 0x1980c000 },
	{ 0x9888, 0x1b80c000 },
	{ 0x9888, 0x1d80c000 },
	{ 0x9888, 0x1f80c000 },
	{ 0x9888, 0x11808000 },
	{ 0x9888, 0x1380c000 },
	{ 0x9888, 0x1580c000 },
	{ 0x9888, 0x4f800000 },
	{ 0x9888, 0x43800882 },
	{ 0x9888, 0x51800000 },
	{ 0x9888, 0x45801082 },
	{ 0x9888, 0x53800000 },
	{ 0x9888, 0x478014a5 },
	{ 0x9888, 0x21800000 },
	{ 0x9888, 0x31800000 },
	{ 0x9888, 0x4d800000 },
	{ 0x9888, 0x3f800002 },
	{ 0x9888, 0x41800c62 },
};

static int select_tdl_2_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_tdl_2;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_tdl_2);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_tdl_2;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_tdl_2);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_tdl_2;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_tdl_2);

        return 0;
}

int i915_oa_select_metric_set_chv(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs = NULL;
        dev_priv->perf.oa.mux_regs_len = 0;
        dev_priv->perf.oa.b_counter_regs = NULL;
        dev_priv->perf.oa.b_counter_regs_len = 0;
        dev_priv->perf.oa.flex_regs = NULL;
        dev_priv->perf.oa.flex_regs_len = 0;

        switch (dev_priv->perf.oa.metrics_set) {
        case METRIC_SET_ID_RENDER_BASIC:
                return select_render_basic_config(dev_priv);
        case METRIC_SET_ID_COMPUTE_BASIC:
                return select_compute_basic_config(dev_priv);
        case METRIC_SET_ID_RENDER_PIPE_PROFILE:
                return select_render_pipe_profile_config(dev_priv);
        case METRIC_SET_ID_HDC_AND_SF:
                return select_hdc_and_sf_config(dev_priv);
        case METRIC_SET_ID_L3_1:
                return select_l3_1_config(dev_priv);
        case METRIC_SET_ID_L3_2:
                return select_l3_2_config(dev_priv);
        case METRIC_SET_ID_L3_3:
                return select_l3_3_config(dev_priv);
        case METRIC_SET_ID_L3_4:
                return select_l3_4_config(dev_priv);
        case METRIC_SET_ID_RASTERIZER_AND_PIXEL_BACKEND:
                return select_rasterizer_and_pixel_backend_config(dev_priv);
        case METRIC_SET_ID_SAMPLER_1:
                return select_sampler_1_config(dev_priv);
        case METRIC_SET_ID_SAMPLER_2:
                return select_sampler_2_config(dev_priv);
        case METRIC_SET_ID_TDL_1:
                return select_tdl_1_config(dev_priv);
        case METRIC_SET_ID_TDL_2:
                return select_tdl_2_config(dev_priv);
        default:
                return -ENODEV;
        }
}

static ssize_t
show_render_basic_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_RENDER_BASIC);
}

static struct device_attribute dev_attr_render_basic_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_render_basic_id,
        .store = NULL,
};

static struct attribute *attrs_render_basic[] = {
        &dev_attr_render_basic_id.attr,
        NULL,
};

static struct attribute_group group_render_basic = {
        .name = "9d8a3af5-c02c-4a4a-b947-f1672469e0fb",
        .attrs =  attrs_render_basic,
};

static ssize_t
show_compute_basic_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_COMPUTE_BASIC);
}

static struct device_attribute dev_attr_compute_basic_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_compute_basic_id,
        .store = NULL,
};

static struct attribute *attrs_compute_basic[] = {
        &dev_attr_compute_basic_id.attr,
        NULL,
};

static struct attribute_group group_compute_basic = {
        .name = "f522a89c-ecd1-4522-8331-3383c54af5f5",
        .attrs =  attrs_compute_basic,
};

static ssize_t
show_render_pipe_profile_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_RENDER_PIPE_PROFILE);
}

static struct device_attribute dev_attr_render_pipe_profile_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_render_pipe_profile_id,
        .store = NULL,
};

static struct attribute *attrs_render_pipe_profile[] = {
        &dev_attr_render_pipe_profile_id.attr,
        NULL,
};

static struct attribute_group group_render_pipe_profile = {
        .name = "a9ccc03d-a943-4e6b-9cd6-13e063075927",
        .attrs =  attrs_render_pipe_profile,
};

static ssize_t
show_hdc_and_sf_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_HDC_AND_SF);
}

static struct device_attribute dev_attr_hdc_and_sf_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_hdc_and_sf_id,
        .store = NULL,
};

static struct attribute *attrs_hdc_and_sf[] = {
        &dev_attr_hdc_and_sf_id.attr,
        NULL,
};

static struct attribute_group group_hdc_and_sf = {
        .name = "2cf0c064-68df-4fac-9b3f-57f51ca8a069",
        .attrs =  attrs_hdc_and_sf,
};

static ssize_t
show_l3_1_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_L3_1);
}

static struct device_attribute dev_attr_l3_1_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_l3_1_id,
        .store = NULL,
};

static struct attribute *attrs_l3_1[] = {
        &dev_attr_l3_1_id.attr,
        NULL,
};

static struct attribute_group group_l3_1 = {
        .name = "78a87ff9-543a-49ce-95ea-26d86071ea93",
        .attrs =  attrs_l3_1,
};

static ssize_t
show_l3_2_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_L3_2);
}

static struct device_attribute dev_attr_l3_2_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_l3_2_id,
        .store = NULL,
};

static struct attribute *attrs_l3_2[] = {
        &dev_attr_l3_2_id.attr,
        NULL,
};

static struct attribute_group group_l3_2 = {
        .name = "9f2cece5-7bfe-4320-ad66-8c7cc526bec5",
        .attrs =  attrs_l3_2,
};

static ssize_t
show_l3_3_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_L3_3);
}

static struct device_attribute dev_attr_l3_3_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_l3_3_id,
        .store = NULL,
};

static struct attribute *attrs_l3_3[] = {
        &dev_attr_l3_3_id.attr,
        NULL,
};

static struct attribute_group group_l3_3 = {
        .name = "d890ef38-d309-47e4-b8b5-aa779bb19ab0",
        .attrs =  attrs_l3_3,
};

static ssize_t
show_l3_4_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_L3_4);
}

static struct device_attribute dev_attr_l3_4_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_l3_4_id,
        .store = NULL,
};

static struct attribute *attrs_l3_4[] = {
        &dev_attr_l3_4_id.attr,
        NULL,
};

static struct attribute_group group_l3_4 = {
        .name = "5fdff4a6-9dc8-45e1-bfda-ef54869fbdd4",
        .attrs =  attrs_l3_4,
};

static ssize_t
show_rasterizer_and_pixel_backend_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_RASTERIZER_AND_PIXEL_BACKEND);
}

static struct device_attribute dev_attr_rasterizer_and_pixel_backend_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_rasterizer_and_pixel_backend_id,
        .store = NULL,
};

static struct attribute *attrs_rasterizer_and_pixel_backend[] = {
        &dev_attr_rasterizer_and_pixel_backend_id.attr,
        NULL,
};

static struct attribute_group group_rasterizer_and_pixel_backend = {
        .name = "2c0e45e1-7e2c-4a14-ae00-0b7ec868b8aa",
        .attrs =  attrs_rasterizer_and_pixel_backend,
};

static ssize_t
show_sampler_1_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_SAMPLER_1);
}

static struct device_attribute dev_attr_sampler_1_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_sampler_1_id,
        .store = NULL,
};

static struct attribute *attrs_sampler_1[] = {
        &dev_attr_sampler_1_id.attr,
        NULL,
};

static struct attribute_group group_sampler_1 = {
        .name = "71148d78-baf5-474f-878a-e23158d0265d",
        .attrs =  attrs_sampler_1,
};

static ssize_t
show_sampler_2_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_SAMPLER_2);
}

static struct device_attribute dev_attr_sampler_2_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_sampler_2_id,
        .store = NULL,
};

static struct attribute *attrs_sampler_2[] = {
        &dev_attr_sampler_2_id.attr,
        NULL,
};

static struct attribute_group group_sampler_2 = {
        .name = "b996a2b7-c59c-492d-877a-8cd54fd6df84",
        .attrs =  attrs_sampler_2,
};

static ssize_t
show_tdl_1_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_TDL_1);
}

static struct device_attribute dev_attr_tdl_1_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_tdl_1_id,
        .store = NULL,
};

static struct attribute *attrs_tdl_1[] = {
        &dev_attr_tdl_1_id.attr,
        NULL,
};

static struct attribute_group group_tdl_1 = {
        .name = "eb2fecba-b431-42e7-8261-fe9429a6e67a",
        .attrs =  attrs_tdl_1,
};

static ssize_t
show_tdl_2_id(struct device *kdev, struct device_attribute *attr, char *buf)
{
        return sprintf(buf, "%d\n", METRIC_SET_ID_TDL_2);
}

static struct device_attribute dev_attr_tdl_2_id = {
        .attr = { .name = "id", .mode = S_IRUGO },
        .show = show_tdl_2_id,
        .store = NULL,
};

static struct attribute *attrs_tdl_2[] = {
        &dev_attr_tdl_2_id.attr,
        NULL,
};

static struct attribute_group group_tdl_2 = {
        .name = "60749470-a648-4a4b-9f10-dbfe1e36e44d",
        .attrs =  attrs_tdl_2,
};

int
i915_perf_init_sysfs_chv(struct drm_i915_private *dev_priv)
{
        int ret;

        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_render_basic);
        if (ret)
                goto error_render_basic;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_compute_basic);
        if (ret)
                goto error_compute_basic;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_render_pipe_profile);
        if (ret)
                goto error_render_pipe_profile;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_hdc_and_sf);
        if (ret)
                goto error_hdc_and_sf;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_l3_1);
        if (ret)
                goto error_l3_1;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_l3_2);
        if (ret)
                goto error_l3_2;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_l3_3);
        if (ret)
                goto error_l3_3;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_l3_4);
        if (ret)
                goto error_l3_4;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_rasterizer_and_pixel_backend);
        if (ret)
                goto error_rasterizer_and_pixel_backend;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_sampler_1);
        if (ret)
                goto error_sampler_1;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_sampler_2);
        if (ret)
                goto error_sampler_2;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_tdl_1);
        if (ret)
                goto error_tdl_1;
        ret = sysfs_create_group(dev_priv->perf.metrics_kobj, &group_tdl_2);
        if (ret)
                goto error_tdl_2;

        return 0;

error_tdl_2:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_tdl_1);
error_tdl_1:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_sampler_2);
error_sampler_2:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_sampler_1);
error_sampler_1:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_rasterizer_and_pixel_backend);
error_rasterizer_and_pixel_backend:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_4);
error_l3_4:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_3);
error_l3_3:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_2);
error_l3_2:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_1);
error_l3_1:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_hdc_and_sf);
error_hdc_and_sf:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_render_pipe_profile);
error_render_pipe_profile:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_compute_basic);
error_compute_basic:
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_render_basic);
error_render_basic:
        return ret;
}

void
i915_perf_deinit_sysfs_chv(struct drm_i915_private *dev_priv)
{
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_render_basic);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_compute_basic);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_render_pipe_profile);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_hdc_and_sf);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_1);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_2);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_3);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_l3_4);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_rasterizer_and_pixel_backend);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_sampler_1);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_sampler_2);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_tdl_1);
        sysfs_remove_group(dev_priv->perf.metrics_kobj, &group_tdl_2);
}
