/*
 * Autogenerated file, DO NOT EDIT manually!
 *
 * Copyright (c) 2015 Intel Corporation
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice (including the next
 * paragraph) shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 */

#include "i915_drv.h"

enum metric_set_id {
        METRIC_SET_ID_RENDER_BASIC = 1,
        METRIC_SET_ID_COMPUTE_BASIC,
        METRIC_SET_ID_RENDER_PIPE_PROFILE,
        METRIC_SET_ID_MEMORY_READS,
        METRIC_SET_ID_MEMORY_WRITES,
        METRIC_SET_ID_COMPUTE_EXTENDED,
        METRIC_SET_ID_COMPUTE_L3_CACHE,
        METRIC_SET_ID_HDC_AND_SF,
        METRIC_SET_ID_L3_1,
        METRIC_SET_ID_L3_2,
        METRIC_SET_ID_L3_3,
        METRIC_SET_ID_RASTERIZER_AND_PIXEL_BACKEND,
        METRIC_SET_ID_SAMPLER,
        METRIC_SET_ID_TDL_1,
        METRIC_SET_ID_TDL_2,
};

int i915_oa_n_builtin_metric_sets_skl = 15;

static const struct i915_oa_reg b_counter_config_render_basic[] = {
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x00800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
};

static const struct i915_oa_reg flex_eu_config_render_basic[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_render_basic_1_1_sku_lt_0x02[] = {
	{ 0x9888, 0x166C01E0 },
	{ 0x9888, 0x12170280 },
	{ 0x9888, 0x12370280 },
	{ 0x9888, 0x159303DF },
	{ 0x9888, 0x3F901403 },
	{ 0x9888, 0x1A4E0080 },
	{ 0x9888, 0x0A6C0053 },
	{ 0x9888, 0x106C0000 },
	{ 0x9888, 0x1C6C0000 },
	{ 0x9888, 0x0A1B4000 },
	{ 0x9888, 0x1C1C0001 },
	{ 0x9888, 0x002F1000 },
	{ 0x9888, 0x042F1000 },
	{ 0x9888, 0x004C4000 },
	{ 0x9888, 0x0A4C8400 },
	{ 0x9888, 0x000D2000 },
	{ 0x9888, 0x060D8000 },
	{ 0x9888, 0x080DA000 },
	{ 0x9888, 0x0A0D2000 },
	{ 0x9888, 0x0C0F0400 },
	{ 0x9888, 0x0E0F6600 },
	{ 0x9888, 0x002C8000 },
	{ 0x9888, 0x162C2200 },
	{ 0x9888, 0x062D8000 },
	{ 0x9888, 0x082D8000 },
	{ 0x9888, 0x00133000 },
	{ 0x9888, 0x08133000 },
	{ 0x9888, 0x00170020 },
	{ 0x9888, 0x08170021 },
	{ 0x9888, 0x10170000 },
	{ 0x9888, 0x0633C000 },
	{ 0x9888, 0x0833C000 },
	{ 0x9888, 0x06370800 },
	{ 0x9888, 0x08370840 },
	{ 0x9888, 0x10370000 },
	{ 0x9888, 0x0D933031 },
	{ 0x9888, 0x0F933E3F },
	{ 0x9888, 0x01933D00 },
	{ 0x9888, 0x03933B3C },
	{ 0x9888, 0x0593003A },
	{ 0x9888, 0x1D930000 },
	{ 0x9888, 0x1B930000 },
	{ 0x9888, 0x13930000 },
	{ 0x9888, 0x17930000 },
	{ 0x9888, 0x1F952A80 },
	{ 0x9888, 0x1D9500AA },
	{ 0x9888, 0x1D900157 },
	{ 0x9888, 0x1F900167 },
	{ 0x9888, 0x35900000 },
	{ 0x9888, 0x2B908000 },
	{ 0x9888, 0x2D908000 },
	{ 0x9888, 0x2F908000 },
	{ 0x9888, 0x31908000 },
	{ 0x9888, 0x15908000 },
	{ 0x9888, 0x17908000 },
	{ 0x9888, 0x19908000 },
	{ 0x9888, 0x1B908000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x1190001F },
	{ 0x9888, 0x51901100 },
	{ 0x9888, 0x41900020 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900C42 },
	{ 0x9888, 0x47900061 },
	{ 0x9888, 0x57901110 },
	{ 0x9888, 0x49900000 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900000 },
	{ 0x9888, 0x59900001 },
	{ 0x9888, 0x43900000 },
	{ 0x9888, 0x53901111 },
};

static const struct i915_oa_reg mux_config_render_basic_1_1_sku_gte_0x02[] = {
	{ 0x00009888, 0x166C01E0 },
	{ 0x00009888, 0x12170280 },
	{ 0x00009888, 0x12370280 },
	{ 0x00009888, 0x159303DF },
	{ 0x00009888, 0x3F901403 },
	{ 0x00009888, 0x1A4E0080 },
	{ 0x00009888, 0x0A6C0053 },
	{ 0x00009888, 0x106C0000 },
	{ 0x00009888, 0x1C6C0000 },
	{ 0x00009888, 0x0A1B4000 },
	{ 0x00009888, 0x1C1C0001 },
	{ 0x00009888, 0x002F1000 },
	{ 0x00009888, 0x042F1000 },
	{ 0x00009888, 0x004C4000 },
	{ 0x00009888, 0x0A4C8400 },
	{ 0x00009888, 0x000D2000 },
	{ 0x00009888, 0x060D8000 },
	{ 0x00009888, 0x080DA000 },
	{ 0x00009888, 0x0A0D2000 },
	{ 0x00009888, 0x0C0F0400 },
	{ 0x00009888, 0x0E0F6600 },
	{ 0x00009888, 0x002C8000 },
	{ 0x00009888, 0x162C2200 },
	{ 0x00009888, 0x062D8000 },
	{ 0x00009888, 0x082D8000 },
	{ 0x00009888, 0x00133000 },
	{ 0x00009888, 0x08133000 },
	{ 0x00009888, 0x00170020 },
	{ 0x00009888, 0x08170021 },
	{ 0x00009888, 0x10170000 },
	{ 0x00009888, 0x0633C000 },
	{ 0x00009888, 0x0833C000 },
	{ 0x00009888, 0x06370800 },
	{ 0x00009888, 0x08370840 },
	{ 0x00009888, 0x10370000 },
	{ 0x00009888, 0x0D933031 },
	{ 0x00009888, 0x0F933E3F },
	{ 0x00009888, 0x01933D00 },
	{ 0x00009888, 0x03933B3C },
	{ 0x00009888, 0x0593003A },
	{ 0x00009888, 0x11930000 },
	{ 0x00009888, 0x1D930000 },
	{ 0x00009888, 0x19930000 },
	{ 0x00009888, 0x1B930000 },
	{ 0x00009888, 0x1D900157 },
	{ 0x00009888, 0x1F900167 },
	{ 0x00009888, 0x35900000 },
	{ 0x00009888, 0x2B908000 },
	{ 0x00009888, 0x2D908000 },
	{ 0x00009888, 0x2F908000 },
	{ 0x00009888, 0x31908000 },
	{ 0x00009888, 0x15908000 },
	{ 0x00009888, 0x17908000 },
	{ 0x00009888, 0x19908000 },
	{ 0x00009888, 0x1B908000 },
	{ 0x00009888, 0x1190001F },
	{ 0x00009888, 0x51901100 },
	{ 0x00009888, 0x41900420 },
	{ 0x00009888, 0x55900000 },
	{ 0x00009888, 0x45900C42 },
	{ 0x00009888, 0x47900061 },
	{ 0x00009888, 0x57901110 },
	{ 0x00009888, 0x49900420 },
	{ 0x00009888, 0x37900000 },
	{ 0x00009888, 0x33900000 },
	{ 0x00009888, 0x4B900021 },
	{ 0x00009888, 0x59900001 },
	{ 0x00009888, 0x43900421 },
	{ 0x00009888, 0x53901111 },
};

static int select_render_basic_config(struct drm_i915_private *dev_priv)
{
        if (dev_priv->dev->pdev->revision < 0x02) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_render_basic_1_1_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_render_basic_1_1_sku_lt_0x02);
        } else if (dev_priv->dev->pdev->revision >= 0x02) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_render_basic_1_1_sku_gte_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_render_basic_1_1_sku_gte_0x02);
        } else {
                DRM_DEBUG_DRIVER("No suitable MUX config for \"RENDER_BASIC\" metric set");
                return -EINVAL;
        }

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_render_basic;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_render_basic);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_render_basic;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_render_basic);

        return 0;
}

static const struct i915_oa_reg b_counter_config_compute_basic[] = {
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x00800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
};

static const struct i915_oa_reg flex_eu_config_compute_basic[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00000003 },
	{ 0xE658, 0x00002001 },
	{ 0xE758, 0x00778008 },
	{ 0xE45c, 0x00088078 },
	{ 0xE55c, 0x00808708 },
	{ 0xE65c, 0x00a08908 },
};

static const struct i915_oa_reg mux_config_compute_basic_1_0_slices_0x01_and_sku_lt_0x02[] = {
	{ 0x9888, 0x104F00E0 },
	{ 0x9888, 0x124F1C00 },
	{ 0x9888, 0x106C00E0 },
	{ 0x9888, 0x37906800 },
	{ 0x9888, 0x3F901403 },
	{ 0x9888, 0x184E8000 },
	{ 0x9888, 0x1A4E8200 },
	{ 0x9888, 0x044E8000 },
	{ 0x9888, 0x004F0DB2 },
	{ 0x9888, 0x064F0900 },
	{ 0x9888, 0x084F1880 },
	{ 0x9888, 0x0A4F0011 },
	{ 0x9888, 0x0C4F0E3C },
	{ 0x9888, 0x0E4F1D80 },
	{ 0x9888, 0x086C0002 },
	{ 0x9888, 0x0A6C0100 },
	{ 0x9888, 0x0E6C000C },
	{ 0x9888, 0x026C000B },
	{ 0x9888, 0x1C6C0000 },
	{ 0x9888, 0x1A6C0000 },
	{ 0x9888, 0x081B4000 },
	{ 0x9888, 0x0A1B8000 },
	{ 0x9888, 0x0E1B4000 },
	{ 0x9888, 0x021B4000 },
	{ 0x9888, 0x1A1C4000 },
	{ 0x9888, 0x1C1C0012 },
	{ 0x9888, 0x141C8000 },
	{ 0x9888, 0x005BC000 },
	{ 0x9888, 0x065B8000 },
	{ 0x9888, 0x085B8000 },
	{ 0x9888, 0x0A5B4000 },
	{ 0x9888, 0x0C5BC000 },
	{ 0x9888, 0x0E5B8000 },
	{ 0x9888, 0x105C8000 },
	{ 0x9888, 0x1A5CA000 },
	{ 0x9888, 0x1C5C002D },
	{ 0x9888, 0x125C8000 },
	{ 0x9888, 0x0A4C0800 },
	{ 0x9888, 0x0C4C0082 },
	{ 0x9888, 0x084C8000 },
	{ 0x9888, 0x000DA000 },
	{ 0x9888, 0x060D8000 },
	{ 0x9888, 0x080DA000 },
	{ 0x9888, 0x0A0DA000 },
	{ 0x9888, 0x0C0DA000 },
	{ 0x9888, 0x0E0DA000 },
	{ 0x9888, 0x020D2000 },
	{ 0x9888, 0x0C0F5400 },
	{ 0x9888, 0x0E0F5500 },
	{ 0x9888, 0x100F0155 },
	{ 0x9888, 0x002CC000 },
	{ 0x9888, 0x0E2CC000 },
	{ 0x9888, 0x162CBE00 },
	{ 0x9888, 0x182C00EF },
	{ 0x9888, 0x022CC000 },
	{ 0x9888, 0x042C8000 },
	{ 0x9888, 0x19900157 },
	{ 0x9888, 0x1B900167 },
	{ 0x9888, 0x1D900105 },
	{ 0x9888, 0x1F900103 },
	{ 0x9888, 0x35900000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x11900FFF },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900840 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900842 },
	{ 0x9888, 0x47900840 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900840 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900040 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x43900840 },
	{ 0x9888, 0x53901111 },
};

static const struct i915_oa_reg mux_config_compute_basic_1_0_slices_0x01_and_sku_gte_0x02[] = {
	{ 0x00009888, 0x104F00E0 },
	{ 0x00009888, 0x124F1C00 },
	{ 0x00009888, 0x106C00E0 },
	{ 0x00009888, 0x37906800 },
	{ 0x00009888, 0x3F901403 },
	{ 0x00009888, 0x004E8000 },
	{ 0x00009888, 0x1A4E0820 },
	{ 0x00009888, 0x1C4E0002 },
	{ 0x00009888, 0x064F0900 },
	{ 0x00009888, 0x084F0032 },
	{ 0x00009888, 0x0A4F1810 },
	{ 0x00009888, 0x0C4F0E00 },
	{ 0x00009888, 0x0E4F003C },
	{ 0x00009888, 0x004F0D80 },
	{ 0x00009888, 0x024F003B },
	{ 0x00009888, 0x006C0002 },
	{ 0x00009888, 0x086C0000 },
	{ 0x00009888, 0x0C6C000C },
	{ 0x00009888, 0x0E6C0B00 },
	{ 0x00009888, 0x186C0000 },
	{ 0x00009888, 0x1C6C0000 },
	{ 0x00009888, 0x1E6C0000 },
	{ 0x00009888, 0x001B4000 },
	{ 0x00009888, 0x081B8000 },
	{ 0x00009888, 0x0C1B4000 },
	{ 0x00009888, 0x0E1B8000 },
	{ 0x00009888, 0x101C8000 },
	{ 0x00009888, 0x1A1C8000 },
	{ 0x00009888, 0x1C1C0024 },
	{ 0x00009888, 0x065B8000 },
	{ 0x00009888, 0x085B4000 },
	{ 0x00009888, 0x0A5BC000 },
	{ 0x00009888, 0x0C5B8000 },
	{ 0x00009888, 0x0E5B4000 },
	{ 0x00009888, 0x005B8000 },
	{ 0x00009888, 0x025B4000 },
	{ 0x00009888, 0x1A5C6000 },
	{ 0x00009888, 0x1C5C001B },
	{ 0x00009888, 0x125C8000 },
	{ 0x00009888, 0x145C8000 },
	{ 0x00009888, 0x004C8000 },
	{ 0x00009888, 0x0A4C2000 },
	{ 0x00009888, 0x0C4C0208 },
	{ 0x00009888, 0x000DA000 },
	{ 0x00009888, 0x060D8000 },
	{ 0x00009888, 0x080DA000 },
	{ 0x00009888, 0x0A0DA000 },
	{ 0x00009888, 0x0C0DA000 },
	{ 0x00009888, 0x0E0DA000 },
	{ 0x00009888, 0x020D2000 },
	{ 0x00009888, 0x0C0F5400 },
	{ 0x00009888, 0x0E0F5500 },
	{ 0x00009888, 0x100F0155 },
	{ 0x00009888, 0x002C8000 },
	{ 0x00009888, 0x0E2CC000 },
	{ 0x00009888, 0x162CFB00 },
	{ 0x00009888, 0x182C00BE },
	{ 0x00009888, 0x022CC000 },
	{ 0x00009888, 0x042CC000 },
	{ 0x00009888, 0x19900157 },
	{ 0x00009888, 0x1B900167 },
	{ 0x00009888, 0x1D900105 },
	{ 0x00009888, 0x1F900103 },
	{ 0x00009888, 0x35900000 },
	{ 0x00009888, 0x11900FFF },
	{ 0x00009888, 0x51900000 },
	{ 0x00009888, 0x41900800 },
	{ 0x00009888, 0x55900000 },
	{ 0x00009888, 0x45900842 },
	{ 0x00009888, 0x47900802 },
	{ 0x00009888, 0x57900000 },
	{ 0x00009888, 0x49900802 },
	{ 0x00009888, 0x33900000 },
	{ 0x00009888, 0x4B900002 },
	{ 0x00009888, 0x59900000 },
	{ 0x00009888, 0x43900842 },
	{ 0x00009888, 0x53901111 },
};

static const struct i915_oa_reg mux_config_compute_basic_1_2_slices_0x02_and_sku_lt_0x02[] = {
};

static int select_compute_basic_config(struct drm_i915_private *dev_priv)
{
        if ((INTEL_INFO(dev_priv)->slice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_basic_1_0_slices_0x01_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_basic_1_0_slices_0x01_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->slice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision >= 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_basic_1_0_slices_0x01_and_sku_gte_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_basic_1_0_slices_0x01_and_sku_gte_0x02);
        } else if ((INTEL_INFO(dev_priv)->slice_mask & 0x02) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_basic_1_2_slices_0x02_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_basic_1_2_slices_0x02_and_sku_lt_0x02);
        } else {
                DRM_DEBUG_DRIVER("No suitable MUX config for \"COMPUTE_BASIC\" metric set");
                return -EINVAL;
        }

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_compute_basic;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_compute_basic);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_compute_basic;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_compute_basic);

        return 0;
}

static const struct i915_oa_reg b_counter_config_render_pipe_profile[] = {
	{ 0x2724, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2770, 0x0007ffea },
	{ 0x2774, 0x00007ffc },
	{ 0x2778, 0x0007affa },
	{ 0x277c, 0x0000f5fd },
	{ 0x2780, 0x00079ffa },
	{ 0x2784, 0x0000f3fb },
	{ 0x2788, 0x0007bf7a },
	{ 0x278c, 0x0000f7e7 },
	{ 0x2790, 0x0007fefa },
	{ 0x2794, 0x0000f7cf },
	{ 0x2798, 0x00077ffa },
	{ 0x279c, 0x0000efdf },
	{ 0x27a0, 0x0006fffa },
	{ 0x27a4, 0x0000cfbf },
	{ 0x27a8, 0x0003fffa },
	{ 0x27ac, 0x00005f7f },
};

static const struct i915_oa_reg flex_eu_config_render_pipe_profile[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00015014 },
	{ 0xE658, 0x00025024 },
	{ 0xE758, 0x00035034 },
	{ 0xE45c, 0x00045044 },
	{ 0xE55c, 0x00055054 },
	{ 0xE65c, 0x00065064 },
};

static const struct i915_oa_reg mux_config_render_pipe_profile_1_0_sku_lt_0x02[] = {
	{ 0x9888, 0x0C0E001F },
	{ 0x9888, 0x0A0F0000 },
	{ 0x9888, 0x10116800 },
	{ 0x9888, 0x178A03E0 },
	{ 0x9888, 0x11824C00 },
	{ 0x9888, 0x11830020 },
	{ 0x9888, 0x13840020 },
	{ 0x9888, 0x11850019 },
	{ 0x9888, 0x11860007 },
	{ 0x9888, 0x01870C40 },
	{ 0x9888, 0x17880000 },
	{ 0x9888, 0x022F4000 },
	{ 0x9888, 0x0A4C0040 },
	{ 0x9888, 0x0C0D8000 },
	{ 0x9888, 0x040D4000 },
	{ 0x9888, 0x060D2000 },
	{ 0x9888, 0x020E5400 },
	{ 0x9888, 0x000E0000 },
	{ 0x9888, 0x080F0040 },
	{ 0x9888, 0x000F0000 },
	{ 0x9888, 0x100F0000 },
	{ 0x9888, 0x0E0F0040 },
	{ 0x9888, 0x0C2C8000 },
	{ 0x9888, 0x06104000 },
	{ 0x9888, 0x06110012 },
	{ 0x9888, 0x06131000 },
	{ 0x9888, 0x01898000 },
	{ 0x9888, 0x0D890100 },
	{ 0x9888, 0x03898000 },
	{ 0x9888, 0x09808000 },
	{ 0x9888, 0x0B808000 },
	{ 0x9888, 0x0380C000 },
	{ 0x9888, 0x0F8A0075 },
	{ 0x9888, 0x1D8A0000 },
	{ 0x9888, 0x118A8000 },
	{ 0x9888, 0x1B8A4000 },
	{ 0x9888, 0x138A8000 },
	{ 0x9888, 0x1D81A000 },
	{ 0x9888, 0x15818000 },
	{ 0x9888, 0x17818000 },
	{ 0x9888, 0x0B820030 },
	{ 0x9888, 0x07828000 },
	{ 0x9888, 0x0D824000 },
	{ 0x9888, 0x0F828000 },
	{ 0x9888, 0x05824000 },
	{ 0x9888, 0x0D830003 },
	{ 0x9888, 0x0583000C },
	{ 0x9888, 0x09830000 },
	{ 0x9888, 0x03838000 },
	{ 0x9888, 0x07838000 },
	{ 0x9888, 0x0B840980 },
	{ 0x9888, 0x03844D80 },
	{ 0x9888, 0x11840000 },
	{ 0x9888, 0x09848000 },
	{ 0x9888, 0x09850080 },
	{ 0x9888, 0x03850003 },
	{ 0x9888, 0x01850000 },
	{ 0x9888, 0x07860000 },
	{ 0x9888, 0x0F860400 },
	{ 0x9888, 0x09870032 },
	{ 0x9888, 0x01888052 },
	{ 0x9888, 0x11880000 },
	{ 0x9888, 0x09884000 },
	{ 0x9888, 0x15968000 },
	{ 0x9888, 0x17968000 },
	{ 0x9888, 0x0F96C000 },
	{ 0x9888, 0x1F950011 },
	{ 0x9888, 0x1D950014 },
	{ 0x9888, 0x0592C000 },
	{ 0x9888, 0x0B928000 },
	{ 0x9888, 0x0D924000 },
	{ 0x9888, 0x0F924000 },
	{ 0x9888, 0x11928000 },
	{ 0x9888, 0x1392C000 },
	{ 0x9888, 0x09924000 },
	{ 0x9888, 0x01985000 },
	{ 0x9888, 0x07988000 },
	{ 0x9888, 0x09981000 },
	{ 0x9888, 0x0B982000 },
	{ 0x9888, 0x0D982000 },
	{ 0x9888, 0x0F989000 },
	{ 0x9888, 0x05982000 },
	{ 0x9888, 0x13904000 },
	{ 0x9888, 0x21904000 },
	{ 0x9888, 0x23904000 },
	{ 0x9888, 0x25908000 },
	{ 0x9888, 0x27904000 },
	{ 0x9888, 0x29908000 },
	{ 0x9888, 0x2B904000 },
	{ 0x9888, 0x2F904000 },
	{ 0x9888, 0x31904000 },
	{ 0x9888, 0x15904000 },
	{ 0x9888, 0x17908000 },
	{ 0x9888, 0x19908000 },
	{ 0x9888, 0x1B904000 },
	{ 0x9888, 0x0B978000 },
	{ 0x9888, 0x0F974000 },
	{ 0x9888, 0x11974000 },
	{ 0x9888, 0x13978000 },
	{ 0x9888, 0x09974000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x1190C080 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x419010A0 },
	{ 0x9888, 0x55904000 },
	{ 0x9888, 0x45901000 },
	{ 0x9888, 0x47900084 },
	{ 0x9888, 0x57904400 },
	{ 0x9888, 0x499000A5 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900081 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x439014A4 },
	{ 0x9888, 0x53900400 },
};

static const struct i915_oa_reg mux_config_render_pipe_profile_1_0_sku_gte_0x02[] = {
	{ 0x00009888, 0x0C0E001F },
	{ 0x00009888, 0x0A0F0000 },
	{ 0x00009888, 0x10116800 },
	{ 0x00009888, 0x178A03E0 },
	{ 0x00009888, 0x11824C00 },
	{ 0x00009888, 0x11830020 },
	{ 0x00009888, 0x13840020 },
	{ 0x00009888, 0x11850019 },
	{ 0x00009888, 0x11860007 },
	{ 0x00009888, 0x01870C40 },
	{ 0x00009888, 0x17880000 },
	{ 0x00009888, 0x022F4000 },
	{ 0x00009888, 0x0A4C0040 },
	{ 0x00009888, 0x0C0D8000 },
	{ 0x00009888, 0x040D4000 },
	{ 0x00009888, 0x060D2000 },
	{ 0x00009888, 0x020E5400 },
	{ 0x00009888, 0x000E0000 },
	{ 0x00009888, 0x080F0040 },
	{ 0x00009888, 0x000F0000 },
	{ 0x00009888, 0x100F0000 },
	{ 0x00009888, 0x0E0F0040 },
	{ 0x00009888, 0x0C2C8000 },
	{ 0x00009888, 0x06104000 },
	{ 0x00009888, 0x06110012 },
	{ 0x00009888, 0x06131000 },
	{ 0x00009888, 0x01898000 },
	{ 0x00009888, 0x0D890100 },
	{ 0x00009888, 0x03898000 },
	{ 0x00009888, 0x09808000 },
	{ 0x00009888, 0x0B808000 },
	{ 0x00009888, 0x0380C000 },
	{ 0x00009888, 0x0F8A0075 },
	{ 0x00009888, 0x1D8A0000 },
	{ 0x00009888, 0x118A8000 },
	{ 0x00009888, 0x1B8A4000 },
	{ 0x00009888, 0x138A8000 },
	{ 0x00009888, 0x1D81A000 },
	{ 0x00009888, 0x15818000 },
	{ 0x00009888, 0x17818000 },
	{ 0x00009888, 0x0B820030 },
	{ 0x00009888, 0x07828000 },
	{ 0x00009888, 0x0D824000 },
	{ 0x00009888, 0x0F828000 },
	{ 0x00009888, 0x05824000 },
	{ 0x00009888, 0x0D830003 },
	{ 0x00009888, 0x0583000C },
	{ 0x00009888, 0x09830000 },
	{ 0x00009888, 0x03838000 },
	{ 0x00009888, 0x07838000 },
	{ 0x00009888, 0x0B840980 },
	{ 0x00009888, 0x03844D80 },
	{ 0x00009888, 0x11840000 },
	{ 0x00009888, 0x09848000 },
	{ 0x00009888, 0x09850080 },
	{ 0x00009888, 0x03850003 },
	{ 0x00009888, 0x01850000 },
	{ 0x00009888, 0x07860000 },
	{ 0x00009888, 0x0F860400 },
	{ 0x00009888, 0x09870032 },
	{ 0x00009888, 0x01888052 },
	{ 0x00009888, 0x11880000 },
	{ 0x00009888, 0x09884000 },
	{ 0x00009888, 0x1B931001 },
	{ 0x00009888, 0x1D930001 },
	{ 0x00009888, 0x19934000 },
	{ 0x00009888, 0x1B958000 },
	{ 0x00009888, 0x1D950094 },
	{ 0x00009888, 0x19958000 },
	{ 0x00009888, 0x05E5A000 },
	{ 0x00009888, 0x01E5C000 },
	{ 0x00009888, 0x0592C000 },
	{ 0x00009888, 0x0B928000 },
	{ 0x00009888, 0x0D924000 },
	{ 0x00009888, 0x0F924000 },
	{ 0x00009888, 0x11928000 },
	{ 0x00009888, 0x1392C000 },
	{ 0x00009888, 0x09924000 },
	{ 0x00009888, 0x01985000 },
	{ 0x00009888, 0x07988000 },
	{ 0x00009888, 0x09981000 },
	{ 0x00009888, 0x0B982000 },
	{ 0x00009888, 0x0D982000 },
	{ 0x00009888, 0x0F989000 },
	{ 0x00009888, 0x05982000 },
	{ 0x00009888, 0x13904000 },
	{ 0x00009888, 0x21904000 },
	{ 0x00009888, 0x23904000 },
	{ 0x00009888, 0x25908000 },
	{ 0x00009888, 0x27904000 },
	{ 0x00009888, 0x29908000 },
	{ 0x00009888, 0x2B904000 },
	{ 0x00009888, 0x2F904000 },
	{ 0x00009888, 0x31904000 },
	{ 0x00009888, 0x15904000 },
	{ 0x00009888, 0x17908000 },
	{ 0x00009888, 0x19908000 },
	{ 0x00009888, 0x1B904000 },
	{ 0x00009888, 0x1190C080 },
	{ 0x00009888, 0x51900000 },
	{ 0x00009888, 0x419010A0 },
	{ 0x00009888, 0x55904000 },
	{ 0x00009888, 0x45901000 },
	{ 0x00009888, 0x47900084 },
	{ 0x00009888, 0x57904400 },
	{ 0x00009888, 0x499000A5 },
	{ 0x00009888, 0x37900000 },
	{ 0x00009888, 0x33900000 },
	{ 0x00009888, 0x4B900081 },
	{ 0x00009888, 0x59900000 },
	{ 0x00009888, 0x439014A4 },
	{ 0x00009888, 0x53900400 },
};

static int select_render_pipe_profile_config(struct drm_i915_private *dev_priv)
{
        if (dev_priv->dev->pdev->revision < 0x02) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_render_pipe_profile_1_0_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_render_pipe_profile_1_0_sku_lt_0x02);
        } else if (dev_priv->dev->pdev->revision >= 0x02) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_render_pipe_profile_1_0_sku_gte_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_render_pipe_profile_1_0_sku_gte_0x02);
        } else {
                DRM_DEBUG_DRIVER("No suitable MUX config for \"RENDER_PIPE_PROFILE\" metric set");
                return -EINVAL;
        }

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_render_pipe_profile;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_render_pipe_profile);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_render_pipe_profile;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_render_pipe_profile);

        return 0;
}

static const struct i915_oa_reg b_counter_config_memory_reads[] = {
	{ 0x272c, 0xffffffff },
	{ 0x2728, 0xffffffff },
	{ 0x2724, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x271c, 0xffffffff },
	{ 0x2718, 0xffffffff },
	{ 0x2714, 0xf0800000 },
	{ 0x2710, 0x00000000 },
	{ 0x274c, 0x86543210 },
	{ 0x2748, 0x86543210 },
	{ 0x2744, 0x00006667 },
	{ 0x2740, 0x00000000 },
	{ 0x275c, 0x86543210 },
	{ 0x2758, 0x86543210 },
	{ 0x2754, 0x00006465 },
	{ 0x2750, 0x00000000 },
	{ 0x2770, 0x0007f81a },
	{ 0x2774, 0x0000fe00 },
	{ 0x2778, 0x0007f82a },
	{ 0x277c, 0x0000fe00 },
	{ 0x2780, 0x0007f872 },
	{ 0x2784, 0x0000fe00 },
	{ 0x2788, 0x0007f8ba },
	{ 0x278c, 0x0000fe00 },
	{ 0x2790, 0x0007f87a },
	{ 0x2794, 0x0000fe00 },
	{ 0x2798, 0x0007f8ea },
	{ 0x279c, 0x0000fe00 },
	{ 0x27a0, 0x0007f8e2 },
	{ 0x27a4, 0x0000fe00 },
	{ 0x27a8, 0x0007f8f2 },
	{ 0x27ac, 0x0000fe00 },
};

static const struct i915_oa_reg flex_eu_config_memory_reads[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00015014 },
	{ 0xE658, 0x00025024 },
	{ 0xE758, 0x00035034 },
	{ 0xE45c, 0x00045044 },
	{ 0xE55c, 0x00055054 },
	{ 0xE65c, 0x00065064 },
};

static const struct i915_oa_reg mux_config_memory_reads_1_0_slices_0x01_and_sku_lt_0x02[] = {
	{ 0x9888, 0x11810C00 },
	{ 0x9888, 0x1381001A },
	{ 0x9888, 0x13946000 },
	{ 0x9888, 0x37906800 },
	{ 0x9888, 0x3F900003 },
	{ 0x9888, 0x03811300 },
	{ 0x9888, 0x05811B12 },
	{ 0x9888, 0x0781001A },
	{ 0x9888, 0x1F810000 },
	{ 0x9888, 0x17810000 },
	{ 0x9888, 0x19810000 },
	{ 0x9888, 0x1B810000 },
	{ 0x9888, 0x1D810000 },
	{ 0x9888, 0x0F968000 },
	{ 0x9888, 0x1196C000 },
	{ 0x9888, 0x13964000 },
	{ 0x9888, 0x11938000 },
	{ 0x9888, 0x1B93FE00 },
	{ 0x9888, 0x01940010 },
	{ 0x9888, 0x07941100 },
	{ 0x9888, 0x09941312 },
	{ 0x9888, 0x0B941514 },
	{ 0x9888, 0x0D941716 },
	{ 0x9888, 0x11940000 },
	{ 0x9888, 0x19940000 },
	{ 0x9888, 0x1B940000 },
	{ 0x9888, 0x1D940000 },
	{ 0x9888, 0x1B954000 },
	{ 0x9888, 0x1D95A550 },
	{ 0x9888, 0x1F9502AA },
	{ 0x9888, 0x2F900157 },
	{ 0x9888, 0x31900105 },
	{ 0x9888, 0x15900103 },
	{ 0x9888, 0x17900101 },
	{ 0x9888, 0x35900000 },
	{ 0x9888, 0x13908000 },
	{ 0x9888, 0x21908000 },
	{ 0x9888, 0x23908000 },
	{ 0x9888, 0x25908000 },
	{ 0x9888, 0x27908000 },
	{ 0x9888, 0x29908000 },
	{ 0x9888, 0x2B908000 },
	{ 0x9888, 0x2D908000 },
	{ 0x9888, 0x19908000 },
	{ 0x9888, 0x1B908000 },
	{ 0x9888, 0x1D908000 },
	{ 0x9888, 0x1F908000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x11900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900C00 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900000 },
	{ 0x9888, 0x47900000 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900063 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x43900003 },
	{ 0x9888, 0x53900000 },
};

static const struct i915_oa_reg mux_config_memory_reads_1_0_slices_0x01_and_sku_gte_0x02[] = {
	{ 0x00009888, 0x11810C00 },
	{ 0x00009888, 0x1381001A },
	{ 0x00009888, 0x13946000 },
	{ 0x00009888, 0x15940016 },
	{ 0x00009888, 0x37906800 },
	{ 0x00009888, 0x03811300 },
	{ 0x00009888, 0x05811B12 },
	{ 0x00009888, 0x0781001A },
	{ 0x00009888, 0x1F810000 },
	{ 0x00009888, 0x17810000 },
	{ 0x00009888, 0x19810000 },
	{ 0x00009888, 0x1B810000 },
	{ 0x00009888, 0x1D810000 },
	{ 0x00009888, 0x19930800 },
	{ 0x00009888, 0x1B93AA55 },
	{ 0x00009888, 0x1D9300AA },
	{ 0x00009888, 0x01940010 },
	{ 0x00009888, 0x07941100 },
	{ 0x00009888, 0x09941312 },
	{ 0x00009888, 0x0B941514 },
	{ 0x00009888, 0x0D941716 },
	{ 0x00009888, 0x0F940018 },
	{ 0x00009888, 0x1B940000 },
	{ 0x00009888, 0x11940000 },
	{ 0x00009888, 0x01E58000 },
	{ 0x00009888, 0x03E57000 },
	{ 0x00009888, 0x31900105 },
	{ 0x00009888, 0x15900103 },
	{ 0x00009888, 0x17900101 },
	{ 0x00009888, 0x35900000 },
	{ 0x00009888, 0x13908000 },
	{ 0x00009888, 0x21908000 },
	{ 0x00009888, 0x23908000 },
	{ 0x00009888, 0x25908000 },
	{ 0x00009888, 0x27908000 },
	{ 0x00009888, 0x29908000 },
	{ 0x00009888, 0x2B908000 },
	{ 0x00009888, 0x2D908000 },
	{ 0x00009888, 0x2F908000 },
	{ 0x00009888, 0x19908000 },
	{ 0x00009888, 0x1B908000 },
	{ 0x00009888, 0x1D908000 },
	{ 0x00009888, 0x1F908000 },
	{ 0x00009888, 0x11900000 },
	{ 0x00009888, 0x51900000 },
	{ 0x00009888, 0x41900C20 },
	{ 0x00009888, 0x55900000 },
	{ 0x00009888, 0x45900400 },
	{ 0x00009888, 0x47900421 },
	{ 0x00009888, 0x57900000 },
	{ 0x00009888, 0x49900421 },
	{ 0x00009888, 0x33900000 },
	{ 0x00009888, 0x4B900061 },
	{ 0x00009888, 0x59900000 },
	{ 0x00009888, 0x43900003 },
	{ 0x00009888, 0x53900000 },
};

static int select_memory_reads_config(struct drm_i915_private *dev_priv)
{
        if ((INTEL_INFO(dev_priv)->slice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_memory_reads_1_0_slices_0x01_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_memory_reads_1_0_slices_0x01_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->slice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision >= 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_memory_reads_1_0_slices_0x01_and_sku_gte_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_memory_reads_1_0_slices_0x01_and_sku_gte_0x02);
        } else {
                DRM_DEBUG_DRIVER("No suitable MUX config for \"MEMORY_READS\" metric set");
                return -EINVAL;
        }

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_memory_reads;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_memory_reads);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_memory_reads;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_memory_reads);

        return 0;
}

static const struct i915_oa_reg b_counter_config_memory_writes[] = {
	{ 0x272c, 0xffffffff },
	{ 0x2728, 0xffffffff },
	{ 0x2724, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x271c, 0xffffffff },
	{ 0x2718, 0xffffffff },
	{ 0x2714, 0xf0800000 },
	{ 0x2710, 0x00000000 },
	{ 0x274c, 0x86543210 },
	{ 0x2748, 0x86543210 },
	{ 0x2744, 0x00006667 },
	{ 0x2740, 0x00000000 },
	{ 0x275c, 0x86543210 },
	{ 0x2758, 0x86543210 },
	{ 0x2754, 0x00006465 },
	{ 0x2750, 0x00000000 },
	{ 0x2770, 0x0007f81a },
	{ 0x2774, 0x0000fe00 },
	{ 0x2778, 0x0007f82a },
	{ 0x277c, 0x0000fe00 },
	{ 0x2780, 0x0007f822 },
	{ 0x2784, 0x0000fe00 },
	{ 0x2788, 0x0007f8ba },
	{ 0x278c, 0x0000fe00 },
	{ 0x2790, 0x0007f87a },
	{ 0x2794, 0x0000fe00 },
	{ 0x2798, 0x0007f8ea },
	{ 0x279c, 0x0000fe00 },
	{ 0x27a0, 0x0007f8e2 },
	{ 0x27a4, 0x0000fe00 },
	{ 0x27a8, 0x0007f8f2 },
	{ 0x27ac, 0x0000fe00 },
};

static const struct i915_oa_reg flex_eu_config_memory_writes[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00015014 },
	{ 0xE658, 0x00025024 },
	{ 0xE758, 0x00035034 },
	{ 0xE45c, 0x00045044 },
	{ 0xE55c, 0x00055054 },
	{ 0xE65c, 0x00065064 },
};

static const struct i915_oa_reg mux_config_memory_writes_1_0_slices_0x01_and_sku_lt_0x02[] = {
	{ 0x9888, 0x11810C00 },
	{ 0x9888, 0x1381001A },
	{ 0x9888, 0x13945400 },
	{ 0x9888, 0x37906800 },
	{ 0x9888, 0x3F901400 },
	{ 0x9888, 0x03811300 },
	{ 0x9888, 0x05811B12 },
	{ 0x9888, 0x0781001A },
	{ 0x9888, 0x1F810000 },
	{ 0x9888, 0x17810000 },
	{ 0x9888, 0x19810000 },
	{ 0x9888, 0x1B810000 },
	{ 0x9888, 0x1D810000 },
	{ 0x9888, 0x0F968000 },
	{ 0x9888, 0x1196C000 },
	{ 0x9888, 0x13964000 },
	{ 0x9888, 0x11938000 },
	{ 0x9888, 0x1B93FE00 },
	{ 0x9888, 0x01940010 },
	{ 0x9888, 0x07941100 },
	{ 0x9888, 0x09941312 },
	{ 0x9888, 0x0B941514 },
	{ 0x9888, 0x0D941716 },
	{ 0x9888, 0x11940000 },
	{ 0x9888, 0x19940000 },
	{ 0x9888, 0x1B940000 },
	{ 0x9888, 0x1D940000 },
	{ 0x9888, 0x1B954000 },
	{ 0x9888, 0x1D95A550 },
	{ 0x9888, 0x1F9502AA },
	{ 0x9888, 0x2F900167 },
	{ 0x9888, 0x31900105 },
	{ 0x9888, 0x15900103 },
	{ 0x9888, 0x17900101 },
	{ 0x9888, 0x35900000 },
	{ 0x9888, 0x13908000 },
	{ 0x9888, 0x21908000 },
	{ 0x9888, 0x23908000 },
	{ 0x9888, 0x25908000 },
	{ 0x9888, 0x27908000 },
	{ 0x9888, 0x29908000 },
	{ 0x9888, 0x2B908000 },
	{ 0x9888, 0x2D908000 },
	{ 0x9888, 0x19908000 },
	{ 0x9888, 0x1B908000 },
	{ 0x9888, 0x1D908000 },
	{ 0x9888, 0x1F908000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x11900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900C00 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900000 },
	{ 0x9888, 0x47900000 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900063 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x43900003 },
	{ 0x9888, 0x53900000 },
};

static const struct i915_oa_reg mux_config_memory_writes_1_0_slices_0x01_and_sku_gte_0x02[] = {
	{ 0x00009888, 0x11810C00 },
	{ 0x00009888, 0x1381001A },
	{ 0x00009888, 0x13945400 },
	{ 0x00009888, 0x37906800 },
	{ 0x00009888, 0x3F901400 },
	{ 0x00009888, 0x03811300 },
	{ 0x00009888, 0x05811B12 },
	{ 0x00009888, 0x0781001A },
	{ 0x00009888, 0x1F810000 },
	{ 0x00009888, 0x17810000 },
	{ 0x00009888, 0x19810000 },
	{ 0x00009888, 0x1B810000 },
	{ 0x00009888, 0x1D810000 },
	{ 0x00009888, 0x19930800 },
	{ 0x00009888, 0x1B93AA55 },
	{ 0x00009888, 0x1D93002A },
	{ 0x00009888, 0x01940010 },
	{ 0x00009888, 0x07941100 },
	{ 0x00009888, 0x09941312 },
	{ 0x00009888, 0x0B941514 },
	{ 0x00009888, 0x0D941716 },
	{ 0x00009888, 0x1B940000 },
	{ 0x00009888, 0x11940000 },
	{ 0x00009888, 0x01E58000 },
	{ 0x00009888, 0x03E57000 },
	{ 0x00009888, 0x2F900167 },
	{ 0x00009888, 0x31900105 },
	{ 0x00009888, 0x15900103 },
	{ 0x00009888, 0x17900101 },
	{ 0x00009888, 0x35900000 },
	{ 0x00009888, 0x13908000 },
	{ 0x00009888, 0x21908000 },
	{ 0x00009888, 0x23908000 },
	{ 0x00009888, 0x25908000 },
	{ 0x00009888, 0x27908000 },
	{ 0x00009888, 0x29908000 },
	{ 0x00009888, 0x2B908000 },
	{ 0x00009888, 0x2D908000 },
	{ 0x00009888, 0x19908000 },
	{ 0x00009888, 0x1B908000 },
	{ 0x00009888, 0x1D908000 },
	{ 0x00009888, 0x1F908000 },
	{ 0x00009888, 0x11900000 },
	{ 0x00009888, 0x51900000 },
	{ 0x00009888, 0x41900C20 },
	{ 0x00009888, 0x55900000 },
	{ 0x00009888, 0x45900400 },
	{ 0x00009888, 0x47900421 },
	{ 0x00009888, 0x57900000 },
	{ 0x00009888, 0x49900421 },
	{ 0x00009888, 0x33900000 },
	{ 0x00009888, 0x4B900063 },
	{ 0x00009888, 0x59900000 },
	{ 0x00009888, 0x43900003 },
	{ 0x00009888, 0x53900000 },
};

static int select_memory_writes_config(struct drm_i915_private *dev_priv)
{
        if ((INTEL_INFO(dev_priv)->slice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_memory_writes_1_0_slices_0x01_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_memory_writes_1_0_slices_0x01_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->slice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision >= 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_memory_writes_1_0_slices_0x01_and_sku_gte_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_memory_writes_1_0_slices_0x01_and_sku_gte_0x02);
        } else {
                DRM_DEBUG_DRIVER("No suitable MUX config for \"MEMORY_WRITES\" metric set");
                return -EINVAL;
        }

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_memory_writes;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_memory_writes);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_memory_writes;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_memory_writes);

        return 0;
}

static const struct i915_oa_reg b_counter_config_compute_extended[] = {
	{ 0x2724, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2770, 0x0007fc2a },
	{ 0x2774, 0x0000bf00 },
	{ 0x2778, 0x0007fc6a },
	{ 0x277c, 0x0000bf00 },
	{ 0x2780, 0x0007fc92 },
	{ 0x2784, 0x0000bf00 },
	{ 0x2788, 0x0007fca2 },
	{ 0x278c, 0x0000bf00 },
	{ 0x2790, 0x0007fc32 },
	{ 0x2794, 0x0000bf00 },
	{ 0x2798, 0x0007fc9a },
	{ 0x279c, 0x0000bf00 },
	{ 0x27a0, 0x0007fe6a },
	{ 0x27a4, 0x0000bf00 },
	{ 0x27a8, 0x0007fe7a },
	{ 0x27ac, 0x0000bf00 },
};

static const struct i915_oa_reg flex_eu_config_compute_extended[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00000003 },
	{ 0xE658, 0x00002001 },
	{ 0xE758, 0x00778008 },
	{ 0xE45c, 0x00088078 },
	{ 0xE55c, 0x00808708 },
	{ 0xE65c, 0x00a08908 },
};

static const struct i915_oa_reg mux_config_compute_extended_1_0_subslices_0x01_and_sku_lt_0x02[] = {
	{ 0x9888, 0x106C00E0 },
	{ 0x9888, 0x141C8160 },
	{ 0x9888, 0x161C8015 },
	{ 0x9888, 0x181C0120 },
	{ 0x9888, 0x004E8000 },
	{ 0x9888, 0x0E4E8000 },
	{ 0x9888, 0x184E8000 },
	{ 0x9888, 0x1A4EAAA0 },
	{ 0x9888, 0x1C4E0002 },
	{ 0x9888, 0x024E8000 },
	{ 0x9888, 0x044E8000 },
	{ 0x9888, 0x064E8000 },
	{ 0x9888, 0x084E8000 },
	{ 0x9888, 0x0A4E8000 },
	{ 0x9888, 0x0E6C0B01 },
	{ 0x9888, 0x006C0200 },
	{ 0x9888, 0x026C000C },
	{ 0x9888, 0x1C6C0000 },
	{ 0x9888, 0x1E6C0000 },
	{ 0x9888, 0x1A6C0000 },
	{ 0x9888, 0x0E1BC000 },
	{ 0x9888, 0x001B8000 },
	{ 0x9888, 0x021BC000 },
	{ 0x9888, 0x001C0041 },
	{ 0x9888, 0x061C4200 },
	{ 0x9888, 0x081C4443 },
	{ 0x9888, 0x0A1C4645 },
	{ 0x9888, 0x0C1C7647 },
	{ 0x9888, 0x041C7357 },
	{ 0x9888, 0x1C1C0030 },
	{ 0x9888, 0x101C0000 },
	{ 0x9888, 0x1A1C0000 },
	{ 0x9888, 0x121C8000 },
	{ 0x9888, 0x004C8000 },
	{ 0x9888, 0x0A4CAA2A },
	{ 0x9888, 0x0C4C02AA },
	{ 0x9888, 0x084CA000 },
	{ 0x9888, 0x000DA000 },
	{ 0x9888, 0x060D8000 },
	{ 0x9888, 0x080DA000 },
	{ 0x9888, 0x0A0DA000 },
	{ 0x9888, 0x0C0DA000 },
	{ 0x9888, 0x0E0DA000 },
	{ 0x9888, 0x020DA000 },
	{ 0x9888, 0x040DA000 },
	{ 0x9888, 0x0C0F5400 },
	{ 0x9888, 0x0E0F5515 },
	{ 0x9888, 0x100F0155 },
	{ 0x9888, 0x002C8000 },
	{ 0x9888, 0x0E2C8000 },
	{ 0x9888, 0x162CAA00 },
	{ 0x9888, 0x182C00AA },
	{ 0x9888, 0x022C8000 },
	{ 0x9888, 0x042C8000 },
	{ 0x9888, 0x062C8000 },
	{ 0x9888, 0x082C8000 },
	{ 0x9888, 0x0A2C8000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x11907FFF },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900040 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900802 },
	{ 0x9888, 0x47900842 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900842 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900000 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x43900800 },
	{ 0x9888, 0x53900000 },
};

static const struct i915_oa_reg mux_config_compute_extended_1_1_subslices_0x08_and_sku_lt_0x02[] = {
};

static const struct i915_oa_reg mux_config_compute_extended_1_2_subslices_0x02_and_sku_lt_0x02[] = {
	{ 0x9888, 0x104F00E0 },
	{ 0x9888, 0x143C0160 },
	{ 0x9888, 0x163C0015 },
	{ 0x9888, 0x183C0120 },
	{ 0x9888, 0x0E4F0D91 },
	{ 0x9888, 0x004F0900 },
	{ 0x9888, 0x024F081C },
	{ 0x9888, 0x003C0041 },
	{ 0x9888, 0x063C4200 },
	{ 0x9888, 0x083C4443 },
	{ 0x9888, 0x0A3C4645 },
	{ 0x9888, 0x0C3C7647 },
	{ 0x9888, 0x043C7357 },
	{ 0x9888, 0x1C3C0000 },
	{ 0x9888, 0x103C0000 },
	{ 0x9888, 0x1A3C0000 },
	{ 0x9888, 0x0E5BC000 },
	{ 0x9888, 0x005B8000 },
	{ 0x9888, 0x025BC000 },
	{ 0x9888, 0x1C5C0030 },
	{ 0x9888, 0x125C8000 },
	{ 0x9888, 0x145C8000 },
	{ 0x9888, 0x165C8000 },
	{ 0x9888, 0x004CC000 },
	{ 0x9888, 0x0A4CFF3C },
	{ 0x9888, 0x0C4C003F },
	{ 0x9888, 0x000DA000 },
	{ 0x9888, 0x060D8000 },
	{ 0x9888, 0x080DA000 },
	{ 0x9888, 0x0A0DA000 },
	{ 0x9888, 0x0C0DA000 },
	{ 0x9888, 0x0E0DA000 },
	{ 0x9888, 0x020DA000 },
	{ 0x9888, 0x040DA000 },
	{ 0x9888, 0x0C0F5400 },
	{ 0x9888, 0x0E0F5515 },
	{ 0x9888, 0x100F0155 },
	{ 0x9888, 0x002C8000 },
	{ 0x9888, 0x0E2C8000 },
	{ 0x9888, 0x162CAA00 },
	{ 0x9888, 0x182C00FA },
	{ 0x9888, 0x022CC000 },
	{ 0x9888, 0x042CC000 },
	{ 0x9888, 0x062CC000 },
	{ 0x9888, 0x082C8000 },
	{ 0x9888, 0x0A2C8000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x11907FFF },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900020 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900401 },
	{ 0x9888, 0x47900421 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900421 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900000 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x43900400 },
	{ 0x9888, 0x53900000 },
};

static const struct i915_oa_reg mux_config_compute_extended_1_3_subslices_0x10_and_sku_lt_0x02[] = {
};

static const struct i915_oa_reg mux_config_compute_extended_1_4_subslices_0x04_and_sku_lt_0x02[] = {
	{ 0x9888, 0x124F1C00 },
	{ 0x9888, 0x145C8160 },
	{ 0x9888, 0x165C8015 },
	{ 0x9888, 0x185C0120 },
	{ 0x9888, 0x0E4F1DB1 },
	{ 0x9888, 0x004F1900 },
	{ 0x9888, 0x024F183C },
	{ 0x9888, 0x104F0000 },
	{ 0x9888, 0x0E5BC000 },
	{ 0x9888, 0x005B8000 },
	{ 0x9888, 0x025BC000 },
	{ 0x9888, 0x005C0041 },
	{ 0x9888, 0x065C4200 },
	{ 0x9888, 0x085C4443 },
	{ 0x9888, 0x0A5C4645 },
	{ 0x9888, 0x0C5C7647 },
	{ 0x9888, 0x045C7357 },
	{ 0x9888, 0x1C5C0030 },
	{ 0x9888, 0x105C0000 },
	{ 0x9888, 0x1A5C0000 },
	{ 0x9888, 0x125C8000 },
	{ 0x9888, 0x000DA000 },
	{ 0x9888, 0x060D8000 },
	{ 0x9888, 0x080DA000 },
	{ 0x9888, 0x0A0DA000 },
	{ 0x9888, 0x0C0DA000 },
	{ 0x9888, 0x0E0DA000 },
	{ 0x9888, 0x020DA000 },
	{ 0x9888, 0x040DA000 },
	{ 0x9888, 0x0C0F5400 },
	{ 0x9888, 0x0E0F5515 },
	{ 0x9888, 0x100F0155 },
	{ 0x9888, 0x002CC000 },
	{ 0x9888, 0x0E2CC000 },
	{ 0x9888, 0x162CFF00 },
	{ 0x9888, 0x182C00FF },
	{ 0x9888, 0x022CC000 },
	{ 0x9888, 0x042CC000 },
	{ 0x9888, 0x062CC000 },
	{ 0x9888, 0x082CC000 },
	{ 0x9888, 0x0A2CC000 },
	{ 0x0D28, 0x00000000 },
	{ 0x9888, 0x11907FFF },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900040 },
	{ 0x9888, 0x55900000 },
	{ 0x9888, 0x45900802 },
	{ 0x9888, 0x47900842 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900842 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4B900000 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x43900800 },
	{ 0x9888, 0x53900000 },
};

static const struct i915_oa_reg mux_config_compute_extended_1_5_subslices_0x20_and_sku_lt_0x02[] = {
};

static int select_compute_extended_config(struct drm_i915_private *dev_priv)
{
        if ((INTEL_INFO(dev_priv)->subslice_mask & 0x01) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_extended_1_0_subslices_0x01_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_extended_1_0_subslices_0x01_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->subslice_mask & 0x08) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_extended_1_1_subslices_0x08_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_extended_1_1_subslices_0x08_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->subslice_mask & 0x02) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_extended_1_2_subslices_0x02_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_extended_1_2_subslices_0x02_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->subslice_mask & 0x10) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_extended_1_3_subslices_0x10_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_extended_1_3_subslices_0x10_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->subslice_mask & 0x04) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_extended_1_4_subslices_0x04_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_extended_1_4_subslices_0x04_and_sku_lt_0x02);
        } else if ((INTEL_INFO(dev_priv)->subslice_mask & 0x20) &&
            (dev_priv->dev->pdev->revision < 0x02)) {
                dev_priv->perf.oa.mux_regs =
                        mux_config_compute_extended_1_5_subslices_0x20_and_sku_lt_0x02;
                dev_priv->perf.oa.mux_regs_len =
                        ARRAY_SIZE(mux_config_compute_extended_1_5_subslices_0x20_and_sku_lt_0x02);
        } else {
                DRM_DEBUG_DRIVER("No suitable MUX config for \"COMPUTE_EXTENDED\" metric set");
                return -EINVAL;
        }

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_compute_extended;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_compute_extended);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_compute_extended;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_compute_extended);

        return 0;
}

static const struct i915_oa_reg b_counter_config_compute_l3_cache[] = {
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x30800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x30800000 },
	{ 0x2770, 0x0007fffa },
	{ 0x2774, 0x0000fefe },
	{ 0x2778, 0x0007fffa },
	{ 0x277c, 0x0000fefd },
	{ 0x2790, 0x0007fffa },
	{ 0x2794, 0x0000fbef },
	{ 0x2798, 0x0007fffa },
	{ 0x279c, 0x0000fbdf },
};

static const struct i915_oa_reg flex_eu_config_compute_l3_cache[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00000003 },
	{ 0xE658, 0x00002001 },
	{ 0xE758, 0x00101100 },
	{ 0xE45c, 0x00201200 },
	{ 0xE55c, 0x00301300 },
	{ 0xE65c, 0x00401400 },
};

static const struct i915_oa_reg mux_config_compute_l3_cache[] = {
	{ 0x00009888, 0x166C0760 },
	{ 0x00009888, 0x1593001E },
	{ 0x00009888, 0x3F901403 },
	{ 0x00009888, 0x004E8000 },
	{ 0x00009888, 0x0E4E8000 },
	{ 0x00009888, 0x184E8000 },
	{ 0x00009888, 0x1A4E8020 },
	{ 0x00009888, 0x1C4E0002 },
	{ 0x00009888, 0x006C0051 },
	{ 0x00009888, 0x066C5000 },
	{ 0x00009888, 0x086C5C5D },
	{ 0x00009888, 0x0E6C5E5F },
	{ 0x00009888, 0x106C0000 },
	{ 0x00009888, 0x186C0000 },
	{ 0x00009888, 0x1C6C0000 },
	{ 0x00009888, 0x1E6C0000 },
	{ 0x00009888, 0x001B4000 },
	{ 0x00009888, 0x061B8000 },
	{ 0x00009888, 0x081BC000 },
	{ 0x00009888, 0x0E1BC000 },
	{ 0x00009888, 0x101C8000 },
	{ 0x00009888, 0x1A1CE000 },
	{ 0x00009888, 0x1C1C0030 },
	{ 0x00009888, 0x004C8000 },
	{ 0x00009888, 0x0A4C2A00 },
	{ 0x00009888, 0x0C4C0280 },
	{ 0x00009888, 0x000D2000 },
	{ 0x00009888, 0x060D8000 },
	{ 0x00009888, 0x080DA000 },
	{ 0x00009888, 0x0E0DA000 },
	{ 0x00009888, 0x0C0F0400 },
	{ 0x00009888, 0x0E0F1500 },
	{ 0x00009888, 0x100F0140 },
	{ 0x00009888, 0x002C8000 },
	{ 0x00009888, 0x0E2C8000 },
	{ 0x00009888, 0x162C0A00 },
	{ 0x00009888, 0x182C00A0 },
	{ 0x00009888, 0x03933300 },
	{ 0x00009888, 0x05930032 },
	{ 0x00009888, 0x11930000 },
	{ 0x00009888, 0x1B930000 },
	{ 0x00009888, 0x1D900157 },
	{ 0x00009888, 0x1F900167 },
	{ 0x00009888, 0x35900000 },
	{ 0x00009888, 0x19908000 },
	{ 0x00009888, 0x1B908000 },
	{ 0x00009888, 0x1190030F },
	{ 0x00009888, 0x51900000 },
	{ 0x00009888, 0x41900000 },
	{ 0x00009888, 0x55900000 },
	{ 0x00009888, 0x45900042 },
	{ 0x00009888, 0x47900000 },
	{ 0x00009888, 0x37900000 },
	{ 0x00009888, 0x33900000 },
	{ 0x00009888, 0x57900000 },
	{ 0x00009888, 0x4B900000 },
	{ 0x00009888, 0x59900000 },
	{ 0x00009888, 0x53901111 },
	{ 0x00009888, 0x43900420 },
};

static int select_compute_l3_cache_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_compute_l3_cache;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_compute_l3_cache);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_compute_l3_cache;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_compute_l3_cache);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_compute_l3_cache;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_compute_l3_cache);

        return 0;
}

static const struct i915_oa_reg b_counter_config_hdc_and_sf[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x10800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x00000002 },
	{ 0x2774, 0x0000fdff },
};

static const struct i915_oa_reg flex_eu_config_hdc_and_sf[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_hdc_and_sf[] = {
	{ 0x9888, 0x104f0232 },
	{ 0x9888, 0x124f4640 },
	{ 0x9888, 0x106c0232 },
	{ 0x9888, 0x11834400 },
	{ 0x9888, 0x0a4e8000 },
	{ 0x9888, 0x0c4e8000 },
	{ 0x9888, 0x004f1880 },
	{ 0x9888, 0x024f08bb },
	{ 0x9888, 0x044f001b },
	{ 0x9888, 0x046c0100 },
	{ 0x9888, 0x066c000b },
	{ 0x9888, 0x1a6c0000 },
	{ 0x9888, 0x041b8000 },
	{ 0x9888, 0x061b4000 },
	{ 0x9888, 0x1a1c1800 },
	{ 0x9888, 0x005b8000 },
	{ 0x9888, 0x025bc000 },
	{ 0x9888, 0x045b4000 },
	{ 0x9888, 0x125c8000 },
	{ 0x9888, 0x145c8000 },
	{ 0x9888, 0x165c8000 },
	{ 0x9888, 0x185c8000 },
	{ 0x9888, 0x0a4c00a0 },
	{ 0x9888, 0x000d8000 },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x0c0f5000 },
	{ 0x9888, 0x0e0f0055 },
	{ 0x9888, 0x022cc000 },
	{ 0x9888, 0x042cc000 },
	{ 0x9888, 0x062cc000 },
	{ 0x9888, 0x082cc000 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x0c2c8000 },
	{ 0x9888, 0x0f828000 },
	{ 0x9888, 0x0f8305c0 },
	{ 0x9888, 0x09830000 },
	{ 0x9888, 0x07830000 },
	{ 0x9888, 0x1d950080 },
	{ 0x9888, 0x13928000 },
	{ 0x9888, 0x0f988000 },
	{ 0x9888, 0x31904000 },
	{ 0x9888, 0x1190fc00 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x4b9000a0 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900800 },
	{ 0x9888, 0x43900842 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900000 },
	{ 0x9888, 0x33900000 },
};

static int select_hdc_and_sf_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_hdc_and_sf;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_hdc_and_sf);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_hdc_and_sf;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_hdc_and_sf);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_hdc_and_sf;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_hdc_and_sf);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_1[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0xf0800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00014002 },
	{ 0x277c, 0x0000c3ff },
	{ 0x2780, 0x00010002 },
	{ 0x2784, 0x0000c7ff },
	{ 0x2788, 0x00004002 },
	{ 0x278c, 0x0000d3ff },
	{ 0x2790, 0x00100700 },
	{ 0x2794, 0x0000ff1f },
	{ 0x2798, 0x00001402 },
	{ 0x279c, 0x0000fc3f },
	{ 0x27a0, 0x00001002 },
	{ 0x27a4, 0x0000fc7f },
	{ 0x27a8, 0x00000402 },
	{ 0x27ac, 0x0000fd3f },
};

static const struct i915_oa_reg flex_eu_config_l3_1[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_1[] = {
	{ 0x9888, 0x126c7b40 },
	{ 0x9888, 0x166c0020 },
	{ 0x9888, 0x0a603444 },
	{ 0x9888, 0x0a613400 },
	{ 0x9888, 0x1a4ea800 },
	{ 0x9888, 0x1c4e0002 },
	{ 0x9888, 0x024e8000 },
	{ 0x9888, 0x044e8000 },
	{ 0x9888, 0x064e8000 },
	{ 0x9888, 0x084e8000 },
	{ 0x9888, 0x0a4e8000 },
	{ 0x9888, 0x064f4000 },
	{ 0x9888, 0x0c6c5327 },
	{ 0x9888, 0x0e6c5425 },
	{ 0x9888, 0x006c2a00 },
	{ 0x9888, 0x026c285b },
	{ 0x9888, 0x046c005c },
	{ 0x9888, 0x106c0000 },
	{ 0x9888, 0x1c6c0000 },
	{ 0x9888, 0x1e6c0000 },
	{ 0x9888, 0x1a6c0800 },
	{ 0x9888, 0x0c1bc000 },
	{ 0x9888, 0x0e1bc000 },
	{ 0x9888, 0x001b8000 },
	{ 0x9888, 0x021bc000 },
	{ 0x9888, 0x041bc000 },
	{ 0x9888, 0x1c1c003c },
	{ 0x9888, 0x121c8000 },
	{ 0x9888, 0x141c8000 },
	{ 0x9888, 0x161c8000 },
	{ 0x9888, 0x181c8000 },
	{ 0x9888, 0x1a1c0800 },
	{ 0x9888, 0x065b4000 },
	{ 0x9888, 0x1a5c1000 },
	{ 0x9888, 0x10600000 },
	{ 0x9888, 0x04600000 },
	{ 0x9888, 0x0c610044 },
	{ 0x9888, 0x10610000 },
	{ 0x9888, 0x06610000 },
	{ 0x9888, 0x0c4c02a8 },
	{ 0x9888, 0x084ca000 },
	{ 0x9888, 0x0a4c002a },
	{ 0x9888, 0x0c0da000 },
	{ 0x9888, 0x0e0da000 },
	{ 0x9888, 0x000d8000 },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x100f0154 },
	{ 0x9888, 0x0c0f5000 },
	{ 0x9888, 0x0e0f0055 },
	{ 0x9888, 0x182c00aa },
	{ 0x9888, 0x022c8000 },
	{ 0x9888, 0x042c8000 },
	{ 0x9888, 0x062c8000 },
	{ 0x9888, 0x082c8000 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x0c2cc000 },
	{ 0x9888, 0x1190ffc0 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900420 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4b900021 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900400 },
	{ 0x9888, 0x43900421 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900040 },
};

static int select_l3_1_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_1;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_1);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_1;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_1);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_1;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_1);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_2[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00028002 },
	{ 0x277c, 0x000087ff },
	{ 0x2780, 0x00020002 },
	{ 0x2784, 0x00008fff },
	{ 0x2788, 0x00008002 },
	{ 0x278c, 0x0000a7ff },
};

static const struct i915_oa_reg flex_eu_config_l3_2[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_2[] = {
	{ 0x9888, 0x126c02e0 },
	{ 0x9888, 0x146c0001 },
	{ 0x9888, 0x0a623400 },
	{ 0x9888, 0x044e8000 },
	{ 0x9888, 0x064e8000 },
	{ 0x9888, 0x084e8000 },
	{ 0x9888, 0x0a4e8000 },
	{ 0x9888, 0x064f4000 },
	{ 0x9888, 0x026c3324 },
	{ 0x9888, 0x046c3422 },
	{ 0x9888, 0x106c0000 },
	{ 0x9888, 0x1a6c0000 },
	{ 0x9888, 0x021bc000 },
	{ 0x9888, 0x041bc000 },
	{ 0x9888, 0x141c8000 },
	{ 0x9888, 0x161c8000 },
	{ 0x9888, 0x181c8000 },
	{ 0x9888, 0x1a1c0800 },
	{ 0x9888, 0x065b4000 },
	{ 0x9888, 0x1a5c1000 },
	{ 0x9888, 0x06614000 },
	{ 0x9888, 0x0c620044 },
	{ 0x9888, 0x10620000 },
	{ 0x9888, 0x06620000 },
	{ 0x9888, 0x084c8000 },
	{ 0x9888, 0x0a4c002a },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x0c0f4000 },
	{ 0x9888, 0x0e0f0055 },
	{ 0x9888, 0x042c8000 },
	{ 0x9888, 0x062c8000 },
	{ 0x9888, 0x082c8000 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x0c2cc000 },
	{ 0x9888, 0x1190f800 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x43900000 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900000 },
	{ 0x9888, 0x33900000 },
};

static int select_l3_2_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_2;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_2);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_2;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_2);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_2;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_2);

        return 0;
}

static const struct i915_oa_reg b_counter_config_l3_3[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x00100070 },
	{ 0x2774, 0x0000fff1 },
	{ 0x2778, 0x00028002 },
	{ 0x277c, 0x000087ff },
	{ 0x2780, 0x00020002 },
	{ 0x2784, 0x00008fff },
	{ 0x2788, 0x00008002 },
	{ 0x278c, 0x0000a7ff },
};

static const struct i915_oa_reg flex_eu_config_l3_3[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_l3_3[] = {
	{ 0x9888, 0x126c4e80 },
	{ 0x9888, 0x146c0000 },
	{ 0x9888, 0x0a633400 },
	{ 0x9888, 0x044e8000 },
	{ 0x9888, 0x064e8000 },
	{ 0x9888, 0x084e8000 },
	{ 0x9888, 0x0a4e8000 },
	{ 0x9888, 0x0c4e8000 },
	{ 0x9888, 0x026c3321 },
	{ 0x9888, 0x046c342f },
	{ 0x9888, 0x106c0000 },
	{ 0x9888, 0x1a6c2000 },
	{ 0x9888, 0x021bc000 },
	{ 0x9888, 0x041bc000 },
	{ 0x9888, 0x061b4000 },
	{ 0x9888, 0x141c8000 },
	{ 0x9888, 0x161c8000 },
	{ 0x9888, 0x181c8000 },
	{ 0x9888, 0x1a1c1800 },
	{ 0x9888, 0x06604000 },
	{ 0x9888, 0x0c630044 },
	{ 0x9888, 0x10630000 },
	{ 0x9888, 0x06630000 },
	{ 0x9888, 0x084c8000 },
	{ 0x9888, 0x0a4c00aa },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x0c0f4000 },
	{ 0x9888, 0x0e0f0055 },
	{ 0x9888, 0x042c8000 },
	{ 0x9888, 0x062c8000 },
	{ 0x9888, 0x082c8000 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x0c2c8000 },
	{ 0x9888, 0x1190f800 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x43900842 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900002 },
	{ 0x9888, 0x33900000 },
};

static int select_l3_3_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_l3_3;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_l3_3);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_l3_3;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_l3_3);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_l3_3;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_l3_3);

        return 0;
}

static const struct i915_oa_reg b_counter_config_rasterizer_and_pixel_backend[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x30800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x00000002 },
	{ 0x2774, 0x0000efff },
	{ 0x2778, 0x00006000 },
	{ 0x277c, 0x0000f3ff },
};

static const struct i915_oa_reg flex_eu_config_rasterizer_and_pixel_backend[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_rasterizer_and_pixel_backend[] = {
	{ 0x9888, 0x102f3800 },
	{ 0x9888, 0x144d0500 },
	{ 0x9888, 0x120d03c0 },
	{ 0x9888, 0x140d03cf },
	{ 0x9888, 0x0c0f0004 },
	{ 0x9888, 0x0c4e4000 },
	{ 0x9888, 0x042f0480 },
	{ 0x9888, 0x082f0000 },
	{ 0x9888, 0x022f0000 },
	{ 0x9888, 0x0a4c0090 },
	{ 0x9888, 0x064d0027 },
	{ 0x9888, 0x004d0000 },
	{ 0x9888, 0x000d0d40 },
	{ 0x9888, 0x020d803f },
	{ 0x9888, 0x040d8023 },
	{ 0x9888, 0x100d0000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x020f0010 },
	{ 0x9888, 0x000f0000 },
	{ 0x9888, 0x0e0f0050 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x0c2c8000 },
	{ 0x9888, 0x1190fc00 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41901400 },
	{ 0x9888, 0x43901485 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900001 },
	{ 0x9888, 0x33900000 },
};

static int select_rasterizer_and_pixel_backend_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_rasterizer_and_pixel_backend;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_rasterizer_and_pixel_backend);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_rasterizer_and_pixel_backend;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_rasterizer_and_pixel_backend);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_rasterizer_and_pixel_backend;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_rasterizer_and_pixel_backend);

        return 0;
}

static const struct i915_oa_reg b_counter_config_sampler[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x70800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
	{ 0x2770, 0x0000c000 },
	{ 0x2774, 0x0000e7ff },
	{ 0x2778, 0x00003000 },
	{ 0x277c, 0x0000f9ff },
	{ 0x2780, 0x00000c00 },
	{ 0x2784, 0x0000fe7f },
};

static const struct i915_oa_reg flex_eu_config_sampler[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_sampler[] = {
	{ 0x9888, 0x14152c00 },
	{ 0x9888, 0x16150005 },
	{ 0x9888, 0x121600a0 },
	{ 0x9888, 0x14352c00 },
	{ 0x9888, 0x16350005 },
	{ 0x9888, 0x123600a0 },
	{ 0x9888, 0x14552c00 },
	{ 0x9888, 0x16550005 },
	{ 0x9888, 0x125600a0 },
	{ 0x9888, 0x062f6000 },
	{ 0x9888, 0x022f2000 },
	{ 0x9888, 0x0c4c0050 },
	{ 0x9888, 0x0a4c0010 },
	{ 0x9888, 0x0c0d8000 },
	{ 0x9888, 0x0e0da000 },
	{ 0x9888, 0x000d8000 },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x100f0350 },
	{ 0x9888, 0x0c0fb000 },
	{ 0x9888, 0x0e0f00da },
	{ 0x9888, 0x182c0028 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x022dc000 },
	{ 0x9888, 0x042d4000 },
	{ 0x9888, 0x0c138000 },
	{ 0x9888, 0x0e132000 },
	{ 0x9888, 0x0413c000 },
	{ 0x9888, 0x1c140018 },
	{ 0x9888, 0x0c157000 },
	{ 0x9888, 0x0e150078 },
	{ 0x9888, 0x10150000 },
	{ 0x9888, 0x04162180 },
	{ 0x9888, 0x02160000 },
	{ 0x9888, 0x04174000 },
	{ 0x9888, 0x0233a000 },
	{ 0x9888, 0x04333000 },
	{ 0x9888, 0x14348000 },
	{ 0x9888, 0x16348000 },
	{ 0x9888, 0x02357870 },
	{ 0x9888, 0x10350000 },
	{ 0x9888, 0x04360043 },
	{ 0x9888, 0x02360000 },
	{ 0x9888, 0x04371000 },
	{ 0x9888, 0x0e538000 },
	{ 0x9888, 0x00538000 },
	{ 0x9888, 0x06533000 },
	{ 0x9888, 0x1c540020 },
	{ 0x9888, 0x12548000 },
	{ 0x9888, 0x0e557000 },
	{ 0x9888, 0x00557800 },
	{ 0x9888, 0x10550000 },
	{ 0x9888, 0x06560043 },
	{ 0x9888, 0x02560000 },
	{ 0x9888, 0x06571000 },
	{ 0x9888, 0x1190ff80 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900000 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4b900060 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900c00 },
	{ 0x9888, 0x43900842 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900060 },
};

static int select_sampler_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_sampler;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_sampler);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_sampler;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_sampler);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_sampler;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_sampler);

        return 0;
}

static const struct i915_oa_reg b_counter_config_tdl_1[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0xf0800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x30800000 },
	{ 0x2770, 0x00000002 },
	{ 0x2774, 0x00007fff },
	{ 0x2778, 0x00000000 },
	{ 0x277c, 0x00009fff },
	{ 0x2780, 0x00000002 },
	{ 0x2784, 0x0000efff },
	{ 0x2788, 0x00000000 },
	{ 0x278c, 0x0000f3ff },
	{ 0x2790, 0x00000002 },
	{ 0x2794, 0x0000fdff },
	{ 0x2798, 0x00000000 },
	{ 0x279c, 0x0000fe7f },
};

static const struct i915_oa_reg flex_eu_config_tdl_1[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_tdl_1[] = {
	{ 0x9888, 0x12120000 },
	{ 0x9888, 0x12320000 },
	{ 0x9888, 0x12520000 },
	{ 0x9888, 0x002f8000 },
	{ 0x9888, 0x022f3000 },
	{ 0x9888, 0x0a4c0015 },
	{ 0x9888, 0x0c0d8000 },
	{ 0x9888, 0x0e0da000 },
	{ 0x9888, 0x000d8000 },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x100f03a0 },
	{ 0x9888, 0x0c0ff000 },
	{ 0x9888, 0x0e0f0095 },
	{ 0x9888, 0x062c8000 },
	{ 0x9888, 0x082c8000 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x0c2d8000 },
	{ 0x9888, 0x0e2d4000 },
	{ 0x9888, 0x062d4000 },
	{ 0x9888, 0x02108000 },
	{ 0x9888, 0x0410c000 },
	{ 0x9888, 0x02118000 },
	{ 0x9888, 0x0411c000 },
	{ 0x9888, 0x02121880 },
	{ 0x9888, 0x041219b5 },
	{ 0x9888, 0x00120000 },
	{ 0x9888, 0x02134000 },
	{ 0x9888, 0x04135000 },
	{ 0x9888, 0x0c308000 },
	{ 0x9888, 0x0e304000 },
	{ 0x9888, 0x06304000 },
	{ 0x9888, 0x0c318000 },
	{ 0x9888, 0x0e314000 },
	{ 0x9888, 0x06314000 },
	{ 0x9888, 0x0c321a80 },
	{ 0x9888, 0x0e320033 },
	{ 0x9888, 0x06320031 },
	{ 0x9888, 0x00320000 },
	{ 0x9888, 0x0c334000 },
	{ 0x9888, 0x0e331000 },
	{ 0x9888, 0x06331000 },
	{ 0x9888, 0x0e508000 },
	{ 0x9888, 0x00508000 },
	{ 0x9888, 0x02504000 },
	{ 0x9888, 0x0e518000 },
	{ 0x9888, 0x00518000 },
	{ 0x9888, 0x02514000 },
	{ 0x9888, 0x0e521880 },
	{ 0x9888, 0x00521a80 },
	{ 0x9888, 0x02520033 },
	{ 0x9888, 0x0e534000 },
	{ 0x9888, 0x00534000 },
	{ 0x9888, 0x02531000 },
	{ 0x9888, 0x1190ff80 },
	{ 0x9888, 0x57900000 },
	{ 0x9888, 0x49900800 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x33900000 },
	{ 0x9888, 0x4b900062 },
	{ 0x9888, 0x59900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900c00 },
	{ 0x9888, 0x43900003 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900040 },
};

static int select_tdl_1_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_tdl_1;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_tdl_1);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_tdl_1;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_tdl_1);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_tdl_1;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_tdl_1);

        return 0;
}

static const struct i915_oa_reg b_counter_config_tdl_2[] = {
	{ 0x2740, 0x00000000 },
	{ 0x2744, 0x00800000 },
	{ 0x2710, 0x00000000 },
	{ 0x2714, 0x00800000 },
	{ 0x2720, 0x00000000 },
	{ 0x2724, 0x00800000 },
};

static const struct i915_oa_reg flex_eu_config_tdl_2[] = {
	{ 0xE458, 0x00005004 },
	{ 0xE558, 0x00010003 },
	{ 0xE658, 0x00012011 },
	{ 0xE758, 0x00015014 },
	{ 0xE45c, 0x00051050 },
	{ 0xE55c, 0x00053052 },
	{ 0xE65c, 0x00055054 },
};

static const struct i915_oa_reg mux_config_tdl_2[] = {
	{ 0x9888, 0x12124d60 },
	{ 0x9888, 0x12322e60 },
	{ 0x9888, 0x12524d60 },
	{ 0x9888, 0x022f3000 },
	{ 0x9888, 0x0a4c0014 },
	{ 0x9888, 0x000d8000 },
	{ 0x9888, 0x020da000 },
	{ 0x9888, 0x040da000 },
	{ 0x9888, 0x060d2000 },
	{ 0x9888, 0x0c0fe000 },
	{ 0x9888, 0x0e0f0097 },
	{ 0x9888, 0x082c8000 },
	{ 0x9888, 0x0a2c8000 },
	{ 0x9888, 0x002d8000 },
	{ 0x9888, 0x062d4000 },
	{ 0x9888, 0x0410c000 },
	{ 0x9888, 0x0411c000 },
	{ 0x9888, 0x04121fb7 },
	{ 0x9888, 0x00120000 },
	{ 0x9888, 0x04135000 },
	{ 0x9888, 0x00308000 },
	{ 0x9888, 0x06304000 },
	{ 0x9888, 0x00318000 },
	{ 0x9888, 0x06314000 },
	{ 0x9888, 0x00321b80 },
	{ 0x9888, 0x0632003f },
	{ 0x9888, 0x00334000 },
	{ 0x9888, 0x06331000 },
	{ 0x9888, 0x0250c000 },
	{ 0x9888, 0x0251c000 },
	{ 0x9888, 0x02521fb7 },
	{ 0x9888, 0x00520000 },
	{ 0x9888, 0x02535000 },
	{ 0x9888, 0x1190fc00 },
	{ 0x9888, 0x37900000 },
	{ 0x9888, 0x51900000 },
	{ 0x9888, 0x41900800 },
	{ 0x9888, 0x43900063 },
	{ 0x9888, 0x53900000 },
	{ 0x9888, 0x45900040 },
	{ 0x9888, 0x33900000 },
};

static int select_tdl_2_config(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs =
                mux_config_tdl_2;
        dev_priv->perf.oa.mux_regs_len =
                ARRAY_SIZE(mux_config_tdl_2);

        dev_priv->perf.oa.b_counter_regs =
                b_counter_config_tdl_2;
        dev_priv->perf.oa.b_counter_regs_len =
                ARRAY_SIZE(b_counter_config_tdl_2);

        dev_priv->perf.oa.flex_regs =
                flex_eu_config_tdl_2;
        dev_priv->perf.oa.flex_regs_len =
                ARRAY_SIZE(flex_eu_config_tdl_2);

        return 0;
}

int i915_oa_select_metric_set_skl(struct drm_i915_private *dev_priv)
{
        dev_priv->perf.oa.mux_regs = NULL;
        dev_priv->perf.oa.mux_regs_len = 0;
        dev_priv->perf.oa.b_counter_regs = NULL;
        dev_priv->perf.oa.b_counter_regs_len = 0;
        dev_priv->perf.oa.flex_regs = NULL;
        dev_priv->perf.oa.flex_regs_len = 0;

        switch (dev_priv->perf.oa.metrics_set) {
        case METRIC_SET_ID_RENDER_BASIC:
                return select_render_basic_config(dev_priv);
        case METRIC_SET_ID_COMPUTE_BASIC:
                return select_compute_basic_config(dev_priv);
        case METRIC_SET_ID_RENDER_PIPE_PROFILE:
                return select_render_pipe_profile_config(dev_priv);
        case METRIC_SET_ID_MEMORY_READS:
                return select_memory_reads_config(dev_priv);
        case METRIC_SET_ID_MEMORY_WRITES:
                return select_memory_writes_config(dev_priv);
        case METRIC_SET_ID_COMPUTE_EXTENDED:
                return select_compute_extended_config(dev_priv);
        case METRIC_SET_ID_COMPUTE_L3_CACHE:
                return select_compute_l3_cache_config(dev_priv);
        case METRIC_SET_ID_HDC_AND_SF:
                return select_hdc_and_sf_config(dev_priv);
        case METRIC_SET_ID_L3_1:
                return select_l3_1_config(dev_priv);
        case METRIC_SET_ID_L3_2:
                return select_l3_2_config(dev_priv);
        case METRIC_SET_ID_L3_3:
                return select_l3_3_config(dev_priv);
        case METRIC_SET_ID_RASTERIZER_AND_PIXEL_BACKEND:
                return select_rasterizer_and_pixel_backend_config(dev_priv);
        case METRIC_SET_ID_SAMPLER:
                return select_sampler_config(dev_priv);
        case METRIC_SET_ID_TDL_1:
                return select_tdl_1_config(dev_priv);
        case METRIC_SET_ID_TDL_2:
                return select_tdl_2_config(dev_priv);
        default:
                return -ENODEV;
        }
}
